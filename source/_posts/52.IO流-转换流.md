---
title: 52.IOæµ-è½¬æ¢æµ
date: 2019-09-26 09:38:00
author: ğš²ğš³ğš²
tags:   # æ·»åŠ åšæ–‡æ ‡ç­¾
	- javaåŸºç¡€
categories:   # æ·»åŠ åšæ–‡åˆ†ç±»
	- java

---

<h1><center>IOæµ-è½¬æ¢æµ</center></h1>

## ä¸€ã€è½¬æ¢æµ

- ### è½¬æ¢æµï¼šæ˜¯å­—èŠ‚æµï¼Œä¸å­—ç¬¦æµä¹‹é—´çš„æ¡¥æ¢

![image-20240709014159796](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407090142769.png)

# ç»ƒä¹ 

- ## è½¬æ¢æ–‡ä»¶ç¼–ç 

##### éœ€æ±‚1ï¼šæ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªGBKçš„æ–‡ä»¶ï¼ŒæŠŠæ–‡ä»¶ä¸­çš„ä¸­æ–‡è¯»å–åˆ°å†…å­˜ä¸­ï¼Œä¸èƒ½å‡ºç°ä¹±ç 

```java
package com.atlml.io_stream;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.nio.charset.Charset;

/**
 * è¾“å…¥ è½¬æ¢æµ
 */
public class InputStreamReadDemo extends ConversionFlowTest {
    public static void main(String[] args) throws IOException {

        /**
         * éœ€æ±‚1ï¼šæ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªGBKçš„æ–‡ä»¶ï¼ŒæŠŠæ–‡ä»¶ä¸­çš„ä¸­æ–‡è¯»å–åˆ°å†…å­˜ä¸­ï¼Œä¸èƒ½å‡ºç°ä¹±ç 
         *  äº†è§£ ä¸€ä¸‹ï¼Œ è¿™ç§æ–¹å¼åœ¨JDK11æ—¶ è¢«æ·˜æ±°äº†
         *
         */
        // gbkcsb.txt æ–‡ä»¶åœ¨æœ¬åœ°å°±æ˜¯GBKç¼–ç 
    /*    InputStreamReader gbk = new InputStreamReader(new FileInputStream("javabasis/aaa/gbkcsb.txt"),"GBK");
        int len;
        char[] chars = new char[8192];
        while ((len=gbk.read(chars))!=-1){
            for (char aChar : chars) {
                System.out.print(aChar);
            }
        }

        gbk.close();
    */
        
        /**
         * æ›¿ä»£æ–¹æ¡ˆ
         * ç›´æ¥ä½¿ç”¨ FileReader æ¥æŒ‡å®š ç¼–ç è¯»å–æ–‡æœ¬
         */
        FileReader fr = new FileReader("javabasis/aaa/gbkcsb.txt", Charset.forName("GBK"));
        BufferedReader bfr = new BufferedReader(fr);
        String line;
        while ((line = bfr.readLine()) != null) {
            System.out.println(line);
        }
        bfr.close();

    }

}

```

##### éœ€æ±‚2ï¼šæŠŠä¸€æ®µä¸­æ–‡æŒ‰ç…§GBKçš„æ–¹å¼å†™åˆ°æœ¬åœ°æ–‡ä»¶

```java
package com.atlml.io_stream;

import java.io.BufferedWriter;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStreamWriter;

/**
 * è¾“å‡º è½¬æ¢æµ
 */
public class OutPutStreamWriteDemo extends ConversionFlowTest {
    public static void main(String[] args) throws IOException {
        /**
         * éœ€æ±‚2ï¼šæŠŠä¸€æ®µä¸­æ–‡æŒ‰ç…§GBKçš„æ–¹å¼å†™åˆ°æœ¬åœ°æ–‡ä»¶
         *  è¿™é‡Œæ˜¯è¿½åŠ åˆ° gbkcsb.txtæ–‡æœ¬æ–‡ä»¶åé¢
         */
        OutputStreamWriter osw = new OutputStreamWriter(new FileOutputStream("javabasis/aaa/gbkcsb.txt", true), "GBK");

        BufferedWriter bufferedWriter = new BufferedWriter(osw);//ä½¿ç”¨å­—ç¬¦ç¼“å†²æµåŒ…ä¸€ä¸‹
        bufferedWriter.newLine();//å¯ä»¥ä½¿ç”¨ æ¢è¡Œ
        bufferedWriter.write("å‡ºå¸ˆè¡¨ï¼Œè¯¸è‘›äº®ï¼Œèº¬è€•å—é˜³ï¼Œé‡‡èŠä¸œç¯±");
        bufferedWriter.close();
        osw.close();
    }
}

```

##### éœ€æ±‚3ï¼šå°†æœ¬åœ°æ–‡ä»¶ä¸­çš„GBKæ–‡ä»¶ï¼Œè½¬æˆUTF-8

```java
package com.atlml.io_stream;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.nio.charset.Charset;


public class EncodingConversion extends ConversionFlowTest {
    public static void main(String[] args) throws IOException {
        /**
         * éœ€æ±‚3ï¼šå°†æœ¬åœ°æ–‡ä»¶ä¸­çš„GBKæ–‡ä»¶ï¼Œè½¬æˆUTF-8
         */

        // 1.JDK11ä¹‹å‰çš„å†™æ³•
        /*BufferedReader bfr = new BufferedReader(new InputStreamReader(new FileInputStream("javabasis/aaa/gbkcsb.txt"), "GBK"));
        BufferedWriter bfw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream("javabasis/aaa/utf-8csb.txt"), "UTF-8"));
        String line;
        while ((line=bfr.readLine())!=null){
            bfw.newLine();
            bfw.write(line);
        }
        bfw.close();
        bfr.close();
        */
        // JDK11ä¹‹åçš„å†™æ³•
        BufferedReader bfr = new BufferedReader(new FileReader("javabasis/aaa/gbkcsb.txt", Charset.forName("GBK")));
        BufferedWriter bfw = new BufferedWriter(new FileWriter("javabasis/aaa/utf-8csb.txt", Charset.forName("UTF-8")));
        String line;
        while ((line = bfr.readLine()) != null) {
            bfw.write(line);
            bfw.newLine();
        }
        bfw.close();
        bfr.close();


    }
}

```

![image-20240709030531972](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407090305901.png)









![image-20240709030039577](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407090300598.png)



---


----

Â© ç‰ˆæƒå£°æ˜

<escape>

<div>
    <h3 align="center"  style="color: brown;" >ç‰ˆæƒå£°æ˜</h3>
    <table>
   		<tr>
    		<ol>
				<li>æœ¬ç½‘ç«™åç§°ï¼šğš²ğš³ğš²</li>
				<li>ğš²ğš³ğš²æä¾›çš„èµ„æºä»…ä¾›æ‚¨ä¸ªäººç”¨äºéå•†ä¸šæ€§ç›®çš„ã€‚</li>
				<li>æœ¬ç«™æ–‡ç« éƒ¨åˆ†å†…å®¹å¯èƒ½æ¥æºäºç½‘ç»œï¼Œä»…ä¾›å¤§å®¶å­¦ä¹ ä¸å‚è€ƒï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘è¿›è¡Œåˆ é™¤å¤„ç†ã€‚</li>
				<li>æœ¬ç«™ä¸€åˆ‡èµ„æºä¸ä»£è¡¨æœ¬ç«™ç«‹åœºï¼Œå¹¶ä¸ä»£è¡¨æœ¬ç«™èµåŒå…¶è§‚ç‚¹å’Œå¯¹å…¶çœŸå®æ€§è´Ÿè´£ã€‚</li>
        		<li>æœ¬ç«™ä¸€å¾‹ç¦æ­¢ä»¥ä»»ä½•æ–¹å¼å‘å¸ƒæˆ–è½¬è½½ä»»ä½•è¿æ³•çš„ç›¸å…³ä¿¡æ¯ï¼Œè®¿å®¢å‘ç°è¯·ä¸¾æŠ¥</li> 
        		<li>æœ¬ç«™èµ„æºå¤§å¤šå­˜å‚¨åœ¨äº‘ç›˜ï¼Œå¦‚å‘ç°é“¾æ¥å¤±æ•ˆï¼Œè¯·è”ç³»æˆ‘ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´æ›´æ–°ã€‚</li>
        		<li>æœ¬ç«™å¼ºçƒˆæ‰“å‡»ç›—ç‰ˆ/ç ´è§£ç­‰æœ‰æŸä»–äººæƒç›Šå’Œè¿æ³•ä½œä¸ºï¼Œè¯·æ”¯æŒæ­£ç‰ˆï¼</li>  
			</ol>
		</tr>
	</table>
</div>


</escape>

----

