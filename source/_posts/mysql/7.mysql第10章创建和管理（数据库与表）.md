---
title: 7.mysqlç¬¬10ç« åˆ›å»ºå’Œç®¡ç†ï¼ˆæ•°æ®åº“ä¸è¡¨ï¼‰
date: 2019-10-03 15:00:00
author: ğš²ğš³ğš²
tags:   # æ·»åŠ åšæ–‡æ ‡ç­¾
	- mysql8.0.22
categories:   # æ·»åŠ åšæ–‡åˆ†ç±»
	- mysql8.0.22



---

<h1><center>åˆ›å»ºå’Œç®¡ç†è¡¨</center></h1>



## 2.-åˆ›å»ºå’Œç®¡ç†æ•°æ®åº“

```mysql

/**
  æ•°æ®åº“çš„åˆ›å»ºï¼Œä¿®æ”¹ä¸åˆ é™¤.
 */

# 1.åˆ›å»ºæ•°æ®åº“
create database  test1 ;
# 2.:åˆ¤æ–­æ•°æ®åº“æ˜¯å¦å·²ç»å­˜åœ¨,ä¸å­˜åœ¨åˆ™åˆ›å»ºæ•°æ®åº“( æ¨è ) æŒ‡å®šå­—ç¬¦é›†
create database IF NOT EXISTS test2 character set utf8mb4;
# 3.æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“
show databases;
# 4.æŸ¥çœ‹å½“å‰æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“
select database();
# ä½¿ç”¨æŒ‡å®šæ•°æ®åº“
use test2;
# 5. æŸ¥çœ‹æŒ‡å®šæ•°æ®åº“ä¸‹é¢çš„æ‰€æœ‰è¡¨
show tables from atguigudb;
# 6.æŸ¥çœ‹æ•°æ®åº“çš„åˆ›å»ºä¿¡æ¯
show create database test2;

# 7.æ›´æ”¹æ•°æ®åº“å­—ç¬¦é›†
alter database test2 character set gbk;

show create database test2;
# 8.åˆ é™¤æŒ‡å®šæ•°æ®åº“(ä¸å¯é€†)
drop database test2;
# 8.1 åˆ é™¤æ•°æ®åº“ï¼Œå¦‚æœå­˜åœ¨
drop database if exists test2;
```



### 1-.åˆ›å»ºå’Œç®¡ç†è¡¨

```mysql


## ---------------------------------------------------------------

create database if not exists  test2 character set utf8mb4;
use test2;
show create database test2;

# 1.åˆ›å»ºè¡¨ï¼ˆåˆ›å»ºçš„æ˜¯ä¸€å¼ ç©ºç™½è¡¨ï¼Œç™½æ‰‹èµ·å®¶ï¼‰
create table if not exists student (
    id int not null unique primary key , # éç©ºçº¦æŸï¼Œå”¯ä¸€çº¦æŸï¼Œä¸»é”®çº¦æŸ
    name varchar(15) not null , # éç©ºçº¦æŸ
    age int not null ,
    gender enum('ç”·','å¥³'),
    identity  int not null unique
);

desc student;

delete from student;


# 2.æ’å…¥æ•°æ®
insert into student (id, name, age, gender, identity)
values (1,'å°æ˜',15,'ç”·','413026185502654897');

insert into student (id, name, age, gender, identity)
values (2,'å°ç»¿',29,'å¥³','4130265641502654897');

select * from student;



```

## 2-.åˆ›å»ºä¸€å¼ è¡¨çš„ä¸¤ç§æ–¹å¼

- 2.1

```mysql

#2.åˆ›å»ºä¸€å¼ è¡¨ï¼Œè¡¨æ•°æ®ä»å·²çŸ¥è¡¨æ•°æ®è·å–ï¼ˆç›¸å½“äºå¤åˆ¶è¡¨ï¼‰
#2.1.å¤åˆ¶ä¸€å¼ è¡¨
CREATE TABLE stu1 AS SELECT * FROM student;

select * from stu1;

#2.2.åˆ›å»ºçš„è¡¨ï¼Œåªæœ‰å­—æ®µï¼Œæ²¡æœ‰å€¼
CREATE TABLE stu2 AS SELECT * FROM student WHERE 1=2; -- åˆ›å»ºçš„emp2æ˜¯ç©ºè¡¨

select * from stu2;

#2.3. åˆ›å»ºè¡¨ï¼ŒæŒ‡å®šå¤åˆ¶é‚£å‡ ä¸ªå­—æ®µï¼Œå’Œæ•°æ®
CREATE TABLE stu80
AS SELECT id, name, age, gender, identity FROM student WHERE id = 2;


select * from stu80;

DESCRIBE stu80;
```

## 3-.è¡¨çš„ä¿®æ”¹

```mysql

# 3. ä¿®æ”¹tableè¡¨çš„å­—æ®µç±»å‹(ä¿®æ”¹ä¸€åˆ—)
alter table student
modify identity bigint;

alter table student
modify identity bigint default 111111111111111111;

# 4.è¿½åŠ ä¸€åˆ—
alter table student
add iphone int ;

desc student;

#5.é‡å‘½åä¸€ä¸ªåˆ—
alter table student
change name student_name varchar(15);

#6.åˆ é™¤ä¸€ä¸ªåˆ—
alter table student
drop column iphone;

# 7.æŸ¥è¯¢è¡¨æ•°æ®
select * from student;

# 8.é‡å‘½åè¡¨
rename table student to students;

show tables ;

# 9.åˆ é™¤è¡¨
/**
åœ¨MySQLä¸­,å½“ä¸€å¼ æ•°æ®è¡¨ æ²¡æœ‰ä¸å…¶ä»–ä»»ä½•æ•°æ®è¡¨å½¢æˆå…³è”å…³ç³» æ—¶,å¯ä»¥å°†å½“å‰æ•°æ®è¡¨ç›´æ¥åˆ é™¤ã€‚
æ•°æ®å’Œç»“æ„éƒ½è¢«åˆ é™¤
æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ç›¸å…³äº‹åŠ¡è¢«æäº¤
æ‰€æœ‰ç›¸å…³ç´¢å¼•è¢«åˆ é™¤

  IF EXISTS çš„å«ä¹‰ä¸º:å¦‚æœå½“å‰æ•°æ®åº“ä¸­å­˜åœ¨ç›¸åº”çš„æ•°æ®è¡¨,åˆ™åˆ é™¤æ•°æ®è¡¨;å¦‚æœå½“å‰æ•°æ®åº“ä¸­ä¸å­˜
åœ¨ç›¸åº”çš„æ•°æ®è¡¨,åˆ™å¿½ç•¥åˆ é™¤è¯­å¥,ä¸å†æ‰§è¡Œåˆ é™¤æ•°æ®è¡¨çš„æ“ä½œã€‚

 */


drop table if exists students;


# 10.æ¸…ç©ºè¡¨
# TRUNCATE TABLE detail_dept;
# TRUNCATE åˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œä¸”ä¸èƒ½å›æ»š

select *
from student;

desc student;


insert into student (id, name, age, gender, identity)
values (1,'å¤çº¢',25,'å¥³',125442121244);

#ä¿®æ”¹å­—æ®µç±»å‹
alter table student modify identity bigint;

#       åˆ›å»ºè¡¨                    ä¿®æ”¹è¡¨           é‡å‘½åè¡¨         åˆ é™¤è¡¨
# create table è¡¨å         alter table è¡¨å      rename table       drop table è¡¨å


select * from student;

## -------------------------------------------
# è®¾ç½® è‡ªåŠ¨æäº¤å…³é—­ï¼Œ delete è¡¨ åˆ é™¤æ‰€æœ‰æ•°æ®åï¼Œç´§æ¥ç€å¯ä»¥å›æ»šåˆ°ä¸Šä¸€æ­¥ã€‚
SET autocommit = FALSE;
delete from student;
rollback ;
select * from student;

# å¦‚æœæ˜¯TRUNCATE TABLE æˆªæ–­è¡¨æ¸…ç©ºè¡¨æ•°æ®ï¼Œä¸ç®¡è®¾ä¸è®¾ç½®SET autocommit = FALSE; éƒ½ä¸èƒ½å›æ»šã€‚ï¼ˆå¼€å‘æœ€å¥½åˆ«ç”¨ï¼‰
truncate student;
select * from student;
rollback ;  # å³ä½¿æ˜¯æ‰§è¡Œå›æ»šï¼Œä¹Ÿä¸èƒ½å›æ»šäº†ã€‚
select * from student;

/**
æ‹“å±•2:å¦‚ä½•ç†è§£æ¸…ç©ºè¡¨ã€åˆ é™¤è¡¨ç­‰æ“ä½œéœ€è°¨æ…?!
è¡¨åˆ é™¤ æ“ä½œå°†æŠŠè¡¨çš„å®šä¹‰å’Œè¡¨ä¸­çš„æ•°æ®ä¸€èµ·åˆ é™¤,å¹¶ä¸”MySQLåœ¨æ‰§è¡Œåˆ é™¤æ“ä½œæ—¶,ä¸ä¼šæœ‰ä»»ä½•çš„ç¡®è®¤ä¿¡
æ¯æç¤º,å› æ­¤æ‰§è¡Œåˆ é™¤æ“æ—¶åº”å½“æ…é‡ã€‚åœ¨åˆ é™¤è¡¨å‰,æœ€å¥½å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œ å¤‡ä»½ ,è¿™æ ·å½“æ“ä½œå¤±è¯¯æ—¶å¯
ä»¥å¯¹æ•°æ®è¿›è¡Œæ¢å¤,ä»¥å…é€ æˆæ— æ³•æŒ½å›çš„åæœã€‚
åŒæ ·çš„,åœ¨ä½¿ç”¨ ALTER TABLE è¿›è¡Œè¡¨çš„åŸºæœ¬ä¿®æ”¹æ“ä½œæ—¶,åœ¨æ‰§è¡Œæ“ä½œè¿‡ç¨‹ä¹‹å‰,ä¹Ÿåº”è¯¥ç¡®ä¿å¯¹æ•°æ®è¿›
è¡Œå®Œæ•´çš„ å¤‡ä»½ ,å› ä¸ºæ•°æ®åº“çš„æ”¹å˜æ˜¯ æ— æ³•æ’¤é”€ çš„,å¦‚æœæ·»åŠ äº†ä¸€ä¸ªä¸éœ€è¦çš„å­—æ®µ,å¯ä»¥å°†å…¶åˆ é™¤;ç›¸
åŒçš„,å¦‚æœåˆ é™¤äº†ä¸€ä¸ªéœ€è¦çš„åˆ—,è¯¥åˆ—ä¸‹é¢çš„æ‰€æœ‰æ•°æ®éƒ½å°†ä¼šä¸¢å¤±ã€‚
 */
```



## 5-.æ³¨æ„ï¼šæ¸…ç©ºè¡¨ã€åˆ é™¤è¡¨ç­‰æ“ä½œéœ€è°¨æ…!

**è¡¨åˆ é™¤ æ“ä½œå°†æŠŠè¡¨çš„å®šä¹‰å’Œè¡¨ä¸­çš„æ•°æ®ä¸€èµ·åˆ é™¤,å¹¶ä¸”MySQLåœ¨æ‰§è¡Œåˆ é™¤æ“ä½œæ—¶,ä¸ä¼šæœ‰ä»»ä½•çš„ç¡®è®¤ä¿¡
æ¯æç¤º,å› æ­¤æ‰§è¡Œåˆ é™¤æ“æ—¶åº”å½“æ…é‡ã€‚åœ¨åˆ é™¤è¡¨å‰,æœ€å¥½å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œ å¤‡ä»½ ,è¿™æ ·å½“æ“ä½œå¤±è¯¯æ—¶å¯
ä»¥å¯¹æ•°æ®è¿›è¡Œæ¢å¤,ä»¥å…é€ æˆæ— æ³•æŒ½å›çš„åæœã€‚
åŒæ ·çš„,åœ¨ä½¿ç”¨ ALTER TABLE è¿›è¡Œè¡¨çš„åŸºæœ¬ä¿®æ”¹æ“ä½œæ—¶,åœ¨æ‰§è¡Œæ“ä½œè¿‡ç¨‹ä¹‹å‰,ä¹Ÿåº”è¯¥ç¡®ä¿å¯¹æ•°æ®è¿›
è¡Œå®Œæ•´çš„ å¤‡ä»½ ,å› ä¸ºæ•°æ®åº“çš„æ”¹å˜æ˜¯ æ— æ³•æ’¤é”€ çš„,å¦‚æœæ·»åŠ äº†ä¸€ä¸ªä¸éœ€è¦çš„å­—æ®µ,å¯ä»¥å°†å…¶åˆ é™¤;ç›¸
åŒçš„,å¦‚æœåˆ é™¤äº†ä¸€ä¸ªéœ€è¦çš„åˆ—,è¯¥åˆ—ä¸‹é¢çš„æ‰€æœ‰æ•°æ®éƒ½å°†ä¼šä¸¢å¤±ã€‚**



## ç»ƒä¹ 

```mysql

#ç¬¬10ç« _åˆ›å»ºå’Œç®¡ç†è¡¨
# ç»ƒä¹ 1ï¼š
#1. åˆ›å»ºæ•°æ®åº“test01_office,æŒ‡æ˜å­—ç¬¦é›†ä¸ºutf8ã€‚å¹¶åœ¨æ­¤æ•°æ®åº“ä¸‹æ‰§è¡Œä¸‹è¿°æ“ä½œ

create database if not exists test01_office character set utf8mb4;

# ä½¿ç”¨æ•°æ®åº“
use test01_office;
#2. åˆ›å»ºè¡¨dept01
/*
å­—æ®µ
 ç±»å‹
id
 INT(7)
NAME
 VARCHAR(25)
*/
create table if not exists dept01(
  id int primary key auto_increment,
  name varchar(25)
);

select * from dept01;

#3. å°†è¡¨departmentsä¸­çš„æ•°æ®æ’å…¥æ–°è¡¨dept02ä¸­
create table if not exists dept02
    AS
select * from atguigudb.departments;

select * from dept02;
#4. åˆ›å»ºè¡¨emp01
/*
å­—æ®µ
 ç±»å‹
id
 INT(7)
first_name
 VARCHAR (25)
last_name
 VARCHAR(25)
dept_id
 INT(7)
*/

create table if not exists emp01(
    id int(7) primary key auto_increment comment 'id',
    first_name varchar(25) not null comment 'å§“',
    last_name varchar(25) not null comment 'åå­—',
    dept_id int(7) comment 'éƒ¨é—¨id'
);

desc emp01;

#5. å°†åˆ—last_nameçš„é•¿åº¦å¢åŠ åˆ°50
alter table emp01
modify last_name varchar(50) not null comment 'åå­—';


#6. æ ¹æ®è¡¨employeesåˆ›å»ºemp02
create table if not exists emp02
select * from atguigudb.employees
where 1=2;

#7. åˆ é™¤è¡¨emp01

drop table emp01;

#8. å°†è¡¨emp02é‡å‘½åä¸ºemp01
alter table emp02 rename emp01;

#9.åœ¨è¡¨dept02å’Œemp01ä¸­æ·»åŠ æ–°åˆ—test_column,å¹¶æ£€æŸ¥æ‰€ä½œçš„æ“ä½œ
alter table dept02
add test_column varchar(15);

alter table emp01
add test_column varchar(15);


#10.ç›´æ¥åˆ é™¤è¡¨emp01ä¸­çš„åˆ— department_id
alter table emp01
drop column department_id;

select *
from emp01;

/**
  é‡å‘½åè¡¨
  RENAME TABLE emp TO myemp;
 å¯¹äºè¡¨ä¸­å­—æ®µçš„æ“ä½œ
  æ·»åŠ ä¸€ä¸ªåˆ— add
  ä¿®æ”¹ä¸€ä¸ªåˆ—å­—æ®µçš„å±æ€§ modify
  é‡å‘½åä¸€ä¸ªåˆ—çš„åç§°  change æ”¹å˜
  åˆ é™¤ä¸€åˆ— drop
 */

#ç»ƒä¹ 2ï¼š
# 1ã€åˆ›å»ºæ•°æ®åº“ test02_market
create database if not exists test02_market character set utf8mb4;
use test02_market;
# 2ã€åˆ›å»ºæ•°æ®è¡¨ customers
create table if not exists customers(
    c_num int primary key auto_increment,
    c_name varchar(50) not null comment 'å§“å',
    c_contact varchar(50) ,
    c_city varchar(50) comment 'åŸå¸‚',
    c_birth date comment 'ç”Ÿæ—¥'
);
# 3ã€å°† c_contact å­—æ®µç§»åŠ¨åˆ° c_birth å­—æ®µåé¢
alter table customers
modify c_contact varchar(50) after c_birth;

select * from customers;

# 4ã€å°† c_name å­—æ®µæ•°æ®ç±»å‹æ”¹ä¸º varchar(70)
alter table customers
modify c_name varchar(70);

desc customers;
# 5ã€å°†c_contactå­—æ®µæ”¹åä¸ºc_phone
alter table customers
change  c_contact c_phone varchar(50);

desc customers;

# 6ã€å¢åŠ c_genderå­—æ®µåˆ°c_nameåé¢,æ•°æ®ç±»å‹ä¸ºchar(1)
alter table customers
add c_gender char(1)  after c_name;

desc customers;

# 7ã€å°†è¡¨åæ”¹ä¸ºcustomers_info
rename table customers to customers_info;

# 8ã€åˆ é™¤å­—æ®µc_city
alter table customers_info
drop c_city;

desc customers_info;
# ç»ƒä¹ 3ï¼š
# 1ã€åˆ›å»ºæ•°æ®åº“test03_company
create database if not exists test03_company character set utf8mb4;
use test03_company;
# 2ã€åˆ›å»ºè¡¨offices
create table if not exists offices(
    officeCode int primary key auto_increment,
    city varchar(30),
    address varchar(50),
    country varchar(50),
    postalCode varchar(25)
);
# 3ã€åˆ›å»ºè¡¨employees
create table if not exists employees(
empNum int primary key auto_increment,
lastName varchar(50) not null comment 'åå­—',
firstName varchar(50) not null comment 'å§“',
mobile varchar(25) unique not null comment 'æ‰‹æœºå·',
code int unique comment  'ä»£ç ',
jobTitle varchar(50) not null comment 'å·¥ä½œåç§°',
birth date comment 'ç”Ÿæ—¥',
note varchar(255) default 'æ™®é€šå‘˜å·¥' comment 'ç¬”è®°',
sex varchar(5) not null comment 'æ€§åˆ«'
);
select * from employees;

desc employees;
# 4ã€å°†è¡¨employeesçš„mobileå­—æ®µä¿®æ”¹åˆ°codeå­—æ®µåé¢
alter table employees
modify mobile varchar(50) after code;

desc employees;
# 5ã€å°†è¡¨employeesçš„birthå­—æ®µæ”¹åä¸ºbirthday
alter table employees
change birth birthday date;

desc employees;
# 6ã€ä¿®æ”¹sexå­—æ®µ,æ•°æ®ç±»å‹ä¸ºchar(1)
alter table employees
modify sex char(1);

desc employees;
# 7ã€åˆ é™¤å­—æ®µnote
alter table employees
drop note;

desc employees;
# 8ã€å¢åŠ å­—æ®µåfavoriate_activity,æ•°æ®ç±»å‹ä¸ºvarchar(100)
alter table employees
add favoriate_activity varchar(100) comment 'å–œæ¬¢çš„æ´»åŠ¨';

# 9ã€å°†è¡¨employeesçš„åç§°ä¿®æ”¹ä¸º employees_info
rename table employees to employees_info;

```





---


----

Â© ç‰ˆæƒå£°æ˜

<escape>

<div>
    <h3 align="center"  style="color: brown;" >ç‰ˆæƒå£°æ˜</h3>
    <table>
   		<tr>
    		<ol>
				<li>æœ¬ç½‘ç«™åç§°ï¼šğš²ğš³ğš²</li>
				<li>ğš²ğš³ğš²æä¾›çš„èµ„æºä»…ä¾›æ‚¨ä¸ªäººç”¨äºéå•†ä¸šæ€§ç›®çš„ã€‚</li>
				<li>æœ¬ç«™æ–‡ç« éƒ¨åˆ†å†…å®¹å¯èƒ½æ¥æºäºç½‘ç»œï¼Œä»…ä¾›å¤§å®¶å­¦ä¹ ä¸å‚è€ƒï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘è¿›è¡Œåˆ é™¤å¤„ç†ã€‚</li>
				<li>æœ¬ç«™ä¸€åˆ‡èµ„æºä¸ä»£è¡¨æœ¬ç«™ç«‹åœºï¼Œå¹¶ä¸ä»£è¡¨æœ¬ç«™èµåŒå…¶è§‚ç‚¹å’Œå¯¹å…¶çœŸå®æ€§è´Ÿè´£ã€‚</li>
        		<li>æœ¬ç«™ä¸€å¾‹ç¦æ­¢ä»¥ä»»ä½•æ–¹å¼å‘å¸ƒæˆ–è½¬è½½ä»»ä½•è¿æ³•çš„ç›¸å…³ä¿¡æ¯ï¼Œè®¿å®¢å‘ç°è¯·ä¸¾æŠ¥</li> 
        		<li>æœ¬ç«™èµ„æºå¤§å¤šå­˜å‚¨åœ¨äº‘ç›˜ï¼Œå¦‚å‘ç°é“¾æ¥å¤±æ•ˆï¼Œè¯·è”ç³»æˆ‘ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´æ›´æ–°ã€‚</li>
        		<li>æœ¬ç«™å¼ºçƒˆæ‰“å‡»ç›—ç‰ˆ/ç ´è§£ç­‰æœ‰æŸä»–äººæƒç›Šå’Œè¿æ³•ä½œä¸ºï¼Œè¯·æ”¯æŒæ­£ç‰ˆï¼</li>  
			</ol>
		</tr>
	</table>
</div>





</escape>

----









