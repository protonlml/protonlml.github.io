---
title: 49.Fileç±»
date: 2019-09-26 08:31:00
author: ğš²ğš³ğš²
tags:   # æ·»åŠ åšæ–‡æ ‡ç­¾
	- javaåŸºç¡€
categories:   # æ·»åŠ åšæ–‡åˆ†ç±»
	- java


---

<h1><center>Fileç±»</center></h1>

## ä¸€ã€File

- ### å¯¹Fileçš„ç†è§£

- #### File å‡ºç°ï¼Œnewå‡ºæ¥è‚¯å®šæ˜¯å¸¦ï¼ˆç»å¯¹è·¯å¾„çš„ï¼Œå·²ç»å­˜åœ¨çš„ï¼‰

  - #### 1.å½¢å‚ä¸­æ˜¯æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼ˆæ­¤æ—¶å°±è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶ï¼‰

  - #### 2.å½¢å‚ä¸­æ˜¯æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ï¼ˆæ­¤æ—¶å°±è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼‰

---

- ####  new File(å½¢å‚) æ˜¯ ä¸å­˜åœ¨çš„è·¯å¾„ï¼Œå°±è¡¨ç¤ºä¸€ä¸ªè·¯å¾„è€Œå·²ï¼Œä½¿ç”¨Fileä¸­çš„æ–¹æ³•æ¥åˆ›å»ºå®é™…æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ã€‚

---

- ####  ä¸ºä»€ä¹ˆè¦ç”¨Fileç±»ï¼Œå°±æ˜¯ä¸ºäº†è¡¨è¿°ç³»ç»Ÿä¸­çš„æ–‡ä»¶ï¼Œä½¿ç”¨Fileç±»ä¸­çš„æ–¹æ³•ï¼Œå¯¹å½“å‰Fileè¿›è¡Œæ“ä½œã€‚

---

---

![image-20240702175109110](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407021751478.png)

![image-20240702175127948](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407021751937.png)

![image-20240702181421477](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407021814490.png)





![image-20240702181153076](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407021811150.png)



## äºŒã€File çš„æ–¹æ³•

![image-20240702181526494](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407021815581.png)



![image-20240702215257042](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407022152070.png)





![image-20240702181546913](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407021815145.png)

![image-20240702215518579](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407022155698.png)





![image-20240702181630094](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407021819918.png)



![image-20240702220240753](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407022202896.png)





# ç»ƒä¹ 

### 1.fileè·å–æ–‡ä»¶åf.getName()å¸¦åç¼€å

```java

/**
 * å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ‰¾æŸä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œæ˜¯å¦æœ‰ä»¥ avi ç»“å°¾çš„ç”µå½±ã€‚
 * ï¼ˆæš‚æ—¶ä¸éœ€è¦è€ƒè™‘å­æ–‡ä»¶å¤¹ï¼‰
 */
public class FileDemo4 {
    public static void main(String[] args) {


        File file = new File("C:\\Users\\lml\\Downloads\\aaa");
        boolean b = existAvi(file);
        System.out.println(b);

    }


    public static boolean existAvi(File file){
        // C:\Users\lml\Downloads\aaa æ–‡ä»¶å¤¹
        File[] files = file.listFiles();
        for (File f : files) {
            // éå†aaaæ–‡ä»¶å¤¹ä¸‹çš„ æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶çš„è·¯å¾„
            if(f.isFile()&&f.getName().endsWith(".avi")){
                return true;
            }
        }
        return false;
    }
    
}
```

### 2.æ¶‰åŠåˆ°å¤šçº§æ–‡ä»¶å¤¹ï¼Œéœ€è¦é€’å½’

```java
package com.atlml.file_demo;


import java.io.File;

/**
 * æ‰¾åˆ°ç”µè„‘ä¸­æ‰€æœ‰ä»¥aviç»“å°¾çš„ç”µå½±ã€‚
 * (éœ€è¦è€ƒè™‘å­æ–‡ä»¶å¤¹ï¼‰
 *
 *
 *  æ€æƒ³ï¼šæŠŠå¤§é—®é¢˜æ‹†åˆ†ï¼Œæ‹†åˆ°æŸä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ä¸åŒ…å«å…¶ä»–æ–‡ä»¶å¤¹ä¸ºæ­¢
 *
 *        é€’å½’æ€æƒ³ï¼Œå°±æ˜¯å°†å¤§çš„é—®é¢˜ï¼Œæ‹†æˆå°çš„é—®é¢˜å»è§£å†³
 *
 *        å‡¡äº‹è¦è€ƒè™‘æ–‡ä»¶å¤¹é‡Œé¢çš„å†…å®¹äº†ï¼Œå°±ä½¿ç”¨ä¸‹é¢çš„å¥—è·¯
 *        å†™é€’å½’æ–¹æ³•çš„å¥—è·¯
 *        å¥—è·¯ï¼š
 *          1.è¿›å…¥æ–‡ä»¶å¤¹
 *          2.éå†æ•°ç»„
 *              2.1.éå†å†…éƒ¨ï¼šåˆ¤æ–­ï¼Œå¦‚æœæ˜¯æ–‡ä»¶  å°±æ‰§è¡Œé¢˜ç›®çš„ä¸šåŠ¡é€»è¾‘
 *              2.2.éå†å†…éƒ¨ï¼šåˆ¤æ–­ï¼Œå¦‚æœä¸æ˜¯æ–‡ä»¶ï¼Œä»–å°±æ˜¯æ–‡ä»¶å¤¹ï¼Œç»§ç»­è°ƒç”¨å½“å‰æ–¹æ³•ï¼Œé€’å½’
 *
 */
public class FileDemo5 {
    public static void main(String[] args) {
        
       /* File file = new File("C:\\"); //Cç›˜
        findAVI(file);*/
        findAVI();
    }
    /**
     * æŸ¥è¯¢ç”µè„‘ä¸Š æ‰€æœ‰ç›˜ç¬¦ ä¸­ aviæ–‡ä»¶çš„è·¯å¾„
     */
    public static void findAVI(){

        File[] files = File.listRoots(); //è·å–ç³»ç»Ÿä¸­æ‰€æœ‰çš„ç›˜ç¬¦
        for (File file : files) {
            findAVI(file);
        }
    }
    /**
     * é€’å½’æ–¹æ³•
     * é€’å½’æŸ¥è¯¢ æŒ‡å®šæ–‡ä»¶å¤¹ ä¸­çš„å†…å®¹
     */
    public  static void findAVI(File file){
        //1.è¿›å…¥æ–‡ä»¶å¤¹,æ‰¾åˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹é¢ æ‰€æœ‰çš„è·¯å¾„
        // åŒ…å«å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„ æ‰€æœ‰æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶
        File[] files = file.listFiles();

        //æ³¨æ„ç»†èŠ‚ï¼šfileå¯èƒ½ä¸ºnull å› ä¸ºç›˜ç¬¦æœ‰æƒé™å¯èƒ½è¿›ä¸å»
        if(files!=null){

            //2.éå†æ•°ç»„
            for (File src : files) {
                //3.åˆ¤æ–­ï¼Œå¦‚æœæ˜¯æ–‡ä»¶å°±æ‰§è¡Œé¢˜ç›®çš„ä¸šåŠ¡é€»è¾‘
                if(src.isFile()){
                    if(src.getName().endsWith(".avi")){
                        System.out.println(src);
                    }
                }else {
                    //4.åˆ¤æ–­ï¼Œå¦‚æœä¸æ˜¯æ–‡ä»¶ï¼Œä»–å°±æ˜¯æ–‡ä»¶å¤¹ï¼Œç»§ç»­è°ƒç”¨å½“å‰æ–¹æ³•ï¼Œé€’å½’
                    // æ³¨æ„ src ä¸€å®šæ˜¯ file çš„ä¸‹çº§ç›®å½•
                    findAVI(src);
                }
            }
        }
    }
}

```

### 3.åˆ é™¤å¤šçº§æ–‡ä»¶å¤¹

```java
/**
 * åˆ é™¤å¤šçº§æ–‡ä»¶å¤¹
 */
public class FileDemo6 {

    public static void main(String[] args) {
        /**
         * å…ˆæ€è€ƒåˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹å†…çš„å†…å®¹æ€ä¹ˆåˆ 
         * å¦‚æœ å½“å‰æ–‡ä»¶å¤¹ä¸‹é¢ è¿˜æœ‰æ–‡ä»¶å¤¹ å†è°ƒç”¨
         */
        File file = new File("C:\\Users\\lml\\Downloads\\aaa\\eee");
        deleteMultilevelDirectory(file);
    }

    /**
     * @param src æ–‡ä»¶å¤¹åœ°å€
     * @return åˆ é™¤æˆåŠŸä¸å¦
     */
    public static void deleteMultilevelDirectory(File src) {
        File[] files = src.listFiles();
        if (files != null) {
            for (File file : files) {
                if(file.isFile()){ //æ˜¯æ–‡ä»¶ç›´æ¥åˆ é™¤
                    file.delete();
                }else { //æ˜¯æ–‡ä»¶å¤¹ï¼Œä¸”æ–‡ä»¶å¤¹ä¸æ˜¯ç©ºçš„ é€’å½’
                    deleteMultilevelDirectory(file);
                }
            }
        }
        // è‡ªå·±ä¹Ÿåˆ 
        src.delete();
    }
```

### 4.é€’å½’å¤šçº§ç›®å½•ï¼Œé€’å½’æ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡æ€ä¹ˆç»Ÿè®¡ 

```java

/**
 * éœ€æ±‚ï¼šç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­æ¯ç§æ–‡ä»¶çš„ä¸ªæ•°å¹¶æ‰“å°ã€‚ï¼ˆè€ƒè™‘å­æ–‡ä»¶å¤¹ï¼‰
 * <p>
 * â‘  æ‰“å°æ ¼å¼å¦‚ä¸‹ï¼š
 * â‘¡    txtï¼š3ä¸ª
 * â‘¢    docï¼š4ä¸ª
 * â‘£     jpgï¼š6ä¸ª
 * ã€‚ã€‚ã€‚ã€‚
 */
public class FileDemo7 {

    public static void main(String[] args) {

        File file = new File("C:\\Users\\lml\\Downloads\\aaa");

        Map<String, Integer> count = getCount(file);
        System.out.println(count); //{jpg=9, txt=4, xlsx=1, avi=1, doc=4}

    }

    /**
     * ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹é¢çš„ å„ç§æ–‡ä»¶æ ¼å¼ ä¸ªæ•°
     * å¹¶æ‰“å°
     *
     *  ä½¿ç”¨äº† map çš„ç»Ÿè®¡æ€æƒ³
     *
     *        å› ä¸ºæ˜¯é€’å½’æ–¹æ³•ï¼Œ
     *        æ‰€ä»¥å…¶ä¸­çš„ å±€éƒ¨å˜é‡æ€ä¹ˆèƒ½äº§ç”Ÿå…³ç³»?
     *
     *        å°±æ˜¯åœ¨è°ƒç”¨é€’å½’ä¹‹åï¼Œå›åˆ°å½“å‰æ–¹æ³•ï¼ŒæŠŠé€’å½’çš„å€¼ï¼Œè¿”å›ç»™å½“å‰
     *
     */
    public static Map<String, Integer> getCount(File src) {

        HashMap<String, Integer> hm = new HashMap<>();

        File[] files = src.listFiles();
        if (files != null) {
            for (File file : files) {
                if (file.isFile()) {
                    //å¦‚æœå½“å‰æ˜¯æ–‡ä»¶ï¼Œåˆ¤æ–­æ–‡ä»¶çš„ æ ¼å¼ å¹¶è®°å½•
                    String name = file.getName();
                    //æ³¨æ„è¿™é‡Œçš„æˆªå– ç‚¹ è¦åŠ  åŒåæ–œçº¿
                    String[] split = name.split("\\.");
                    if (split.length >= 2) {
                        //è¿™é‡Œæ˜¯æœ‰åç¼€åçš„æ–‡ä»¶æ‰è¿›è¡Œç»Ÿè®¡
                        //a.txt ç»Ÿè®¡ //a.a.b,txt ç»Ÿè®¡
                        // aaaæ— åç¼€å ä¸ç»Ÿè®¡
                        //åˆ©ç”¨Map è¿›è¡Œç»Ÿè®¡
                        String suffix = split[split.length - 1]; //åç¼€
                        if (hm.containsKey(suffix)) {
                            //mapä¸­å·²ç»å­˜åœ¨è¿™ä¸ª æ ¼å¼ å¦‚ï¼štxt
                            Integer count = hm.get(suffix);
                            count++;
                            hm.put(suffix, count);
                        } else {
                            //ç¬¬ä¸€æ¬¡æ·»åŠ 
                            hm.put(suffix, 1);
                        }
                    }
                } else {
                    //ä¸æ˜¯æ–‡ä»¶ï¼Œæ˜¯æ–‡ä»¶å¤¹ï¼ˆé€’å½’ï¼‰ç»“æœæ˜¯å­æ–‡ä»¶å¤¹çš„ç»Ÿè®¡
                    // hm {txt=3,doc=4,jpg=1 }
                    // map{txt=1,doc=1,jpg=1,xlsx=1}
                    Map<String, Integer> map = getCount(file); //èµ°åˆ°è¿™ä¸€æ­¥ï¼Œä¸‹é¢å°±å…ˆä¸çœ‹ï¼Œå†æ—è¾¹æƒ³è±¡æ–°çš„æ–¹æ³•ï¼Œç»“æœæ”¾åœ¨è¿™é‡Œ
                    //éå†map
                    map.forEach((k, v) -> {

                        if (hm.containsKey(k)) {
                            Integer count = hm.get(k);
                            // è¯´æ˜å·²ç»æœ‰ è¿™ä¸ªåç¼€
                            hm.put(k, v + count);
                        } else {
                            //è¿™é‡Œè¡¨ç¤ºhmä¸­ä¸å­˜åœ¨çš„ keyæ ¼å¼å€¼
                            hm.put(k, v);
                        }
                    });
                }
            }
        }
        return hm;
    }
}

```

### 5.é€’å½’æ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡æ€ä¹ˆå¤„ç†

```java

/**
 * ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶å¤¹å†…æ‰€æœ‰æ–‡ä»¶çš„æ€»å¤§å°
 */
public class FileDemo8 {

    public static void main(String[] args) {

        /**
         *
         * 1.å…ˆè·¯å¾„å®šä¹‰åˆ° è¿™ä¸ªæ–‡ä»¶å¤¹
         * 2. å°†æ–‡ä»¶å¤¹å±•å¼€
         *     å¦‚æœæ˜¯æ–‡ä»¶ç›´æ¥ç»Ÿè®¡å¤§å°
         *     å¦‚æœæ˜¯æ–‡ä»¶å¤¹ï¼Œç»§ç»­é€’å½’ç¬¬2æ­¥
         *     æœ€ç»ˆå°†æ‰€æœ‰çš„æ–‡ä»¶å¤§å°åŠ åœ¨ä¸€èµ·
         *  3.è¿”å›ç»Ÿè®¡å€¼
         *
         *
         */
        //è¿™é‡Œç»Ÿè®¡ aaaæ–‡ä»¶å¤¹æ€»å¤§å°
        File file = new File("C:\\Users\\lml\\Downloads\\aaa");

        Long size = countTotalSize(file);
        System.out.println(size);


    }

    private static Long countTotalSize(File src) {
        //æ³¨æ„è¿™ä¸ªlengthæ˜¯å±€éƒ¨å˜é‡ï¼Œç¬¬äºŒæ¬¡é€’å½’çš„æ—¶å€™ï¼Œè¿™ä¸ªå€¼å°±åˆå˜æˆäº†0
        // æ€ä¹ˆè§£å†³ï¼ŸæŠŠé€’å½’çš„ç»“æœåŠ åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶lengthä¸Šé¢ã€‚
        // æ‰§è¡Œåˆ°é€’å½’æ—¶ï¼Œå°±æƒ³æ—è¾¹æœ‰ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„æ–¹æ³•ï¼Œå®ƒçš„è®¡ç®—å’Œ å½“å‰æ–¹æ³•æ‰§è¡Œ æ²¡æœ‰å…³ç³»
        long length = 0;
        File[] files = src.listFiles();
        if (files != null) {
            for (File file : files) {
                if (file.isFile()) {
                    //å¦‚æœæ˜¯æ–‡ä»¶ï¼Œç›´æ¥ç®—å‡ºå¤§å°
                    length = length + file.length();
                } else {
                    length = length + countTotalSize(file);
                }
            }
        }
        return length;
    }
    
}
```







---


----

Â© ç‰ˆæƒå£°æ˜

<escape>

<div>
    <h3 align="center"  style="color: brown;" >ç‰ˆæƒå£°æ˜</h3>
    <table>
   		<tr>
    		<ol>
				<li>æœ¬ç½‘ç«™åç§°ï¼šğš²ğš³ğš²</li>
				<li>ğš²ğš³ğš²æä¾›çš„èµ„æºä»…ä¾›æ‚¨ä¸ªäººç”¨äºéå•†ä¸šæ€§ç›®çš„ã€‚</li>
				<li>æœ¬ç«™æ–‡ç« éƒ¨åˆ†å†…å®¹å¯èƒ½æ¥æºäºç½‘ç»œï¼Œä»…ä¾›å¤§å®¶å­¦ä¹ ä¸å‚è€ƒï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘è¿›è¡Œåˆ é™¤å¤„ç†ã€‚</li>
				<li>æœ¬ç«™ä¸€åˆ‡èµ„æºä¸ä»£è¡¨æœ¬ç«™ç«‹åœºï¼Œå¹¶ä¸ä»£è¡¨æœ¬ç«™èµåŒå…¶è§‚ç‚¹å’Œå¯¹å…¶çœŸå®æ€§è´Ÿè´£ã€‚</li>
        		<li>æœ¬ç«™ä¸€å¾‹ç¦æ­¢ä»¥ä»»ä½•æ–¹å¼å‘å¸ƒæˆ–è½¬è½½ä»»ä½•è¿æ³•çš„ç›¸å…³ä¿¡æ¯ï¼Œè®¿å®¢å‘ç°è¯·ä¸¾æŠ¥</li> 
        		<li>æœ¬ç«™èµ„æºå¤§å¤šå­˜å‚¨åœ¨äº‘ç›˜ï¼Œå¦‚å‘ç°é“¾æ¥å¤±æ•ˆï¼Œè¯·è”ç³»æˆ‘ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´æ›´æ–°ã€‚</li>
        		<li>æœ¬ç«™å¼ºçƒˆæ‰“å‡»ç›—ç‰ˆ/ç ´è§£ç­‰æœ‰æŸä»–äººæƒç›Šå’Œè¿æ³•ä½œä¸ºï¼Œè¯·æ”¯æŒæ­£ç‰ˆï¼</li>  
			</ol>
		</tr>
	</table>
</div>



</escape>

----

