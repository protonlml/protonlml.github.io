---
title: 53.åºåˆ—åŒ–æµååºåˆ—åŒ–æµ
date: 2019-09-26 09:40:00
author: ğš²ğš³ğš²
tags:   # æ·»åŠ åšæ–‡æ ‡ç­¾
	- javaåŸºç¡€
categories:   # æ·»åŠ åšæ–‡åˆ†ç±»
	- java

---

<h1><center>åºåˆ—åŒ–æµååºåˆ—åŒ–æµ</center></h1>

# åºåˆ—åŒ–æµï¼ˆå¯¹è±¡æ“ä½œè¾“å‡ºæµï¼‰

![image-20240721222543452](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407212225359.png)

### ä¸€ã€å¯ä»¥æŠŠjavaä¸­çš„å¯¹è±¡å†™åˆ°æœ¬åœ°æ–‡ä»¶ä¸­

- #### å†™åˆ°æœ¬åœ°æ–‡ä»¶ä¸­çš„å¯¹è±¡ä¿¡æ¯ï¼Œæˆ‘ä»¬æ˜¯çœ‹ä¸æ‡‚çš„ï¼Œéœ€è¦è¿›è¡Œååºåˆ—åŒ–ï¼Œè¯»å–åˆ°å†…å­˜ä¸­ï¼Œå³å¯æˆä¸ºå¯¹è±¡

### äºŒã€ä¸ºä»€ä¹ˆä¸ç›´æ¥å°†å¯¹è±¡å±æ€§å€¼ï¼Œç»™ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­å‘¢ï¼Œéå¾—ä½¿ç”¨åºåˆ—åŒ–ç»™åºåˆ—åˆ°æœ¬åœ°æ–‡ä»¶ä¸­ï¼Œè¿˜æ˜¯çœ‹ä¸æ‡‚çš„ï¼Ÿ

- #### æ¯”å¦‚æ¸¸æˆä¸­çš„å…³é”®ä¿¡æ¯ï¼Œä¸ä½¿ç”¨åºåˆ—åŒ–çš„è¯ï¼Œåœ¨æœ¬åœ°ç›´æ¥æ˜æ–‡å±•ç¤ºï¼Œé‚£å°±ä¼šè¢«ä¿®æ”¹äº†ï¼Œæ¸¸æˆä¸­çš„å±æ€§ä¹Ÿå°±è¢«ä¿®æ”¹äº†

![image-20240720233221141](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407202332127.png)



## ä¸‰ã€åºåˆ—åŒ–æµçš„ç»†èŠ‚

- ### ä½¿ç”¨å¯¹è±¡è¾“å‡ºæµå°†å¯¹è±¡ä¿å­˜åˆ°æ–‡ä»¶æ—¶ä¼šå‡ºç°NotSerializableExceptionå¼‚å¸¸

- ### è§£å†³æ–¹æ¡ˆï¼šéœ€è¦è®©javabeanç±»å®ç°Serializableæ¥å£,åŒæ—¶è‡ªåŠ¨ç”Ÿæˆç‰ˆæœ¬å·UID

![image-20240721000353503](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407210003873.png)





# ååºåˆ—åŒ–æµ

## ä¸€ã€æœ¬åœ°æ–‡ä»¶ä¸­çš„åºåˆ—åŒ–å¯¹è±¡ï¼Œååºåˆ—åŒ–åˆ°å†…å­˜

![image-20240720234733168](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407202347575.png)

![image-20240721004416055](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407210044370.png)



---

---



# ç»†èŠ‚ï¼š

- #### ä¸€ä¸ªå¯¹è±¡å®ç°äº†Serializableæ¥å£ï¼Œè¯´æ˜è¿™ä¸ªç±»çš„å¯¹è±¡å¯ä»¥è¢«åºåˆ—åŒ–çš„

- #### javaåº•å±‚ä¼šæ ¹æ®è¿™ä¸ªç±»çš„æˆå‘˜å˜é‡ï¼Œé™æ€å˜é‡ï¼Œæ„é€ æ–¹æ³•ï¼Œæˆå‘˜æ–¹æ³•ï¼Œç®€å•çš„è¯´å°±æ˜¯æ ¹æ®è¿™ä¸ªç±»ä¸­çš„æ‰€æœ‰å†…å®¹è®¡ç®—å‡ºä¸€ä¸ªlongç±»å‹çš„åºåˆ—å·ã€‚è¿™ä¸ªåºåˆ—å·ï¼Œå°±æ˜¯è¿™ä¸ªç±»çš„ç‰ˆæœ¬å·ã€‚

- #### åœ¨å°†å¯¹è±¡åºåˆ—åŒ–ï¼Œä»¥åŠååºåˆ—åŒ–çš„æ—¶å€™ï¼Œä½¿ç”¨çš„UIDæ˜¯å”¯ä¸€çš„





![image-20240721005942108](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407210059140.png)



![image-20240721010128414](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407210101542.png)



# ç»ƒä¹ 

- ## å°†å¤šä¸ªå¯¹è±¡åºåˆ—åŒ–åˆ°æœ¬åœ°ï¼Œå†ååºåˆ—åŒ–åˆ°å†…å­˜

  - #### ä½¿ç”¨ArrayListé›†åˆæ¥è£…å¤šä¸ªå¯¹è±¡ï¼Œç„¶åå†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–

![image-20240721222252005](https://raw.githubusercontent.com/protonlml/blogimages/master/imgs/202407212222367.png)

```java
package com.atlml.Serialized_stream;

import java.io.Serial;
import java.io.Serializable;

/**
 *  å°ç‹—ç±»
 */
public class Dog implements Serializable {

    @Serial
    private static final long serialVersionUID = 5061231638733610552L;

    private Integer age;
    private String name;

    public Dog() {
    }

    public Dog(Integer age, String name) {
        this.age = age;
        this.name = name;
    }


    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    @Override
    public String toString() {
        return "Dog{" +
                "age=" + age +
                ", name='" + name + '\'' +
                '}';
    }
}

```

```java
package com.atlml.Serialized_stream;

import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectOutputStream;
import java.util.ArrayList;

/**
 * å°†å¤šä¸ªè‡ªå®šä¹‰å¯¹è±¡åºåˆ—åŒ–åˆ°æ–‡ä»¶ä¸­ï¼Œä½†æ˜¯ç”±äºå¯¹è±¡çš„ä¸ªæ•°ä¸ç¡®å®šï¼Œååºåˆ—åŒ–æµè¯¥å¦‚ä½•è¯»å–å‘¢ï¼Ÿ
 */
public class SerializedStream2 {
    
    public static void main(String[] args) throws IOException {

        /**
         * å¦‚æœåœ¨ä»£ç ä¸­ï¼Œä¸€æ¬¡éœ€è¦å°†å¤šä¸ªå¯¹è±¡åºåˆ—åŒ–åˆ°æœ¬åœ°æ–‡ä»¶ä¸­ï¼Œ 
         *          æˆ‘ä»¬ä¸€èˆ¬ä¼šé‡‡ç”¨ï¼Œå°†å¤šä¸ªå¯¹è±¡æ”¾åœ¨é›†åˆå½“ä¸­
         *          æˆ‘ä»¬å°†è¿™ä¸ªé›†åˆç»™åºåˆ—åŒ–åˆ°æœ¬åœ°æ–‡ä»¶ä¸­
         *          å–å¾—æ—¶å€™ï¼Œä¹Ÿæ˜¯ç›´æ¥å–ä¸€ä¸ªé›†åˆã€‚
         *          ç„¶åå†éå†
         */

        Dog bozai = new Dog(5, "æ³¢ä»”");
        Dog keji = new Dog(3, "æŸ¯åŸº");
        Dog tudou = new Dog(1, "åœŸè±†");
        ArrayList<Dog> dogs = new ArrayList<>();
        dogs.add(bozai);
        dogs.add(keji);
        dogs.add(tudou);

        //åºåˆ—åŒ–æµï¼Œå°†å¤šä¸ªå¯¹è±¡ åºåˆ—åŒ–åˆ° æœ¬åœ°æ–‡ä»¶ä¸­å»
        ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream("javabasis\\aaa\\myio\\a.txt"));
        objectOutputStream.writeObject(dogs);//åºåˆ—åŒ–é›†åˆ
        objectOutputStream.close();
        
        


    }
    
}

```

```java
package com.atlml.Serialized_stream;

import java.io.FileInputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.util.ArrayList;

/**
 * ååºåˆ—åŒ–ï¼Œ
 *     å°†ä¿å­˜åœ¨æœ¬åœ°çš„ å¯¹è±¡ã€‚ ååºåˆ—åŒ–åˆ°ç¨‹åºä¸­
 *     è¿™é‡Œæ˜¯å°† ArrayList é›†åˆååºåˆ—åŒ–åˆ°å†…å­˜ä¸­
 *      Listé›†åˆä¸­ï¼Œå­˜æ”¾äº†å¤šä¸ªå¯¹è±¡
 */
public class SerializedStream3 {
    public static void main(String[] args) throws IOException, ClassNotFoundException {


        //ååºåˆ—åŒ–ä¸€ä¸ªé›†åˆ
        ObjectInputStream objectInputStream = new ObjectInputStream(new FileInputStream("javabasis\\aaa\\myio\\a.txt"));
        ArrayList doglist = (ArrayList) objectInputStream.readObject();

        doglist.forEach(d-> System.out.println(d));
        //Dog{age=5, name='æ³¢ä»”'}
        //Dog{age=3, name='æŸ¯åŸº'}
        //Dog{age=1, name='åœŸè±†'}

    }

}

```













---


----

Â© ç‰ˆæƒå£°æ˜

<escape>

<div>
    <h3 align="center"  style="color: brown;" >ç‰ˆæƒå£°æ˜</h3>
    <table>
   		<tr>
    		<ol>
				<li>æœ¬ç½‘ç«™åç§°ï¼šğš²ğš³ğš²</li>
				<li>ğš²ğš³ğš²æä¾›çš„èµ„æºä»…ä¾›æ‚¨ä¸ªäººç”¨äºéå•†ä¸šæ€§ç›®çš„ã€‚</li>
				<li>æœ¬ç«™æ–‡ç« éƒ¨åˆ†å†…å®¹å¯èƒ½æ¥æºäºç½‘ç»œï¼Œä»…ä¾›å¤§å®¶å­¦ä¹ ä¸å‚è€ƒï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘è¿›è¡Œåˆ é™¤å¤„ç†ã€‚</li>
				<li>æœ¬ç«™ä¸€åˆ‡èµ„æºä¸ä»£è¡¨æœ¬ç«™ç«‹åœºï¼Œå¹¶ä¸ä»£è¡¨æœ¬ç«™èµåŒå…¶è§‚ç‚¹å’Œå¯¹å…¶çœŸå®æ€§è´Ÿè´£ã€‚</li>
        		<li>æœ¬ç«™ä¸€å¾‹ç¦æ­¢ä»¥ä»»ä½•æ–¹å¼å‘å¸ƒæˆ–è½¬è½½ä»»ä½•è¿æ³•çš„ç›¸å…³ä¿¡æ¯ï¼Œè®¿å®¢å‘ç°è¯·ä¸¾æŠ¥</li> 
        		<li>æœ¬ç«™èµ„æºå¤§å¤šå­˜å‚¨åœ¨äº‘ç›˜ï¼Œå¦‚å‘ç°é“¾æ¥å¤±æ•ˆï¼Œè¯·è”ç³»æˆ‘ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´æ›´æ–°ã€‚</li>
        		<li>æœ¬ç«™å¼ºçƒˆæ‰“å‡»ç›—ç‰ˆ/ç ´è§£ç­‰æœ‰æŸä»–äººæƒç›Šå’Œè¿æ³•ä½œä¸ºï¼Œè¯·æ”¯æŒæ­£ç‰ˆï¼</li>  
			</ol>
		</tr>
	</table>
</div>



</escape>

----

