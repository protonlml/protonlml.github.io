---
title: 2.è·å–éšæœºæ•°çš„å‡ ç§æ–¹æ³•
date: 2019-09-22 13:00:00
author: ğš²ğš³ğš²
tags:   # æ·»åŠ åšæ–‡æ ‡ç­¾
	- ç»éªŒ
categories:   # æ·»åŠ åšæ–‡åˆ†ç±»
	- ç»éªŒ
password: 767136280
---

## ä¸€ã€ä½¿ç”¨Math.random()æ–¹æ³•

- #### Math.random() äº§ç”Ÿçš„éšæœºæ•°æ˜¯0-1ä¹‹é—´çš„ä¸€ä¸ªdoubleæ•°å€¼ï¼Œæœ‰15ä½å°æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä»–ä¹˜ä»¥ä¸€å®šçš„æ•°ï¼Œæ¯”å¦‚è¯´ä¹˜ä»¥100ï¼Œä»–å°±æ˜¯ä¸ª100ä»¥å†…çš„éšæœº

  - ##### Math.random()è·å–åˆ°çš„éšæœºæ•°å¦‚ä¸‹

  ```java
  0.6195107792727859
  ```

  

- #### å¦‚ä¸‹ï¼Œä¸ºè·å–1åˆ°10çš„intç±»å‹éšæœºæ•°ï¼Œ+1è¡¨ç¤ºæœ€å°å€¼ä¸º1ï¼Œå› ä¸ºrandomæ–¹æ³•çš„æœ€å°å€¼æ˜¯0

  ```java
  (int)(1+Math.random()*10)
  ```

  

- #### ç”Ÿæˆ0åˆ°9çš„éšæœºæ•°ï¼Œå¦‚ä¸‹

  ```java
  (int)(Math.random()*10)
  ```

- #### æƒ³è¦è·å¾—æ¯”må°1çš„intæˆ–è€…longç±»å‹æ•°å€¼ï¼Œåªéœ€è¦ä½¿ç”¨ä»¥ä¸‹å…¬å¼

  ```java
  (ç±»å‹)(Math.random()*m)
  ```

- #### è·å–10åˆ°99çš„éšæœºæ•°

  ```java
  (int)(Math.random()*90+10)
  ```

- ### æ³¨æ„ï¼šMath.random() äº§ç”Ÿçš„éšæœºæ•°æ˜¯å¤§äºç­‰äº0ï¼Œå°äº1ï¼ˆä¸ç­‰äº1ï¼‰çš„doubleæ•°å€¼

## äºŒã€Randomç±»

- #### é€šè¿‡Randomç±»æ¥äº§ç”Ÿä¸€ä¸ªéšæœºæ•°ï¼Œè¿™ä¸ªæ˜¯ä¸“ä¸šçš„Randomå·¥å…·ç±»ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚

- #### ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š

  - ##### (01) åˆ›å»ºRandomå¯¹è±¡ã€‚æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åˆ›å»ºRandomå¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š

    ```java
    Random random = new Random();//é»˜è®¤æ„é€ æ–¹æ³•
    Random random = new Random(1000);//æŒ‡å®šç§å­æ•°å­—ä¸€èˆ¬ä¸ç”¨# å¦‚æœä¸¤ä¸ªå¯¹è±¡éƒ½æŒ‡å®šç›¸åŒå‚æ•°æ„é€ å¯¹è±¡ï¼Œé‚£ä¹ˆéšæœºå‡ºæ¥çš„æ•°æ˜¯ä¸€æ ·çš„
    ```

  - ##### (02) é€šè¿‡Randomå¯¹è±¡è·å–éšæœºæ•°ã€‚Randomæ”¯æŒçš„éšæœºå€¼ç±»å‹åŒ…æ‹¬ï¼šboolean, byte, int, long, float, doubleã€‚

    ```java
    æ¯”å¦‚ï¼Œè·å–[0, 100)ä¹‹é—´çš„intæ•´æ•°ã€‚æ–¹æ³•å¦‚ä¸‹ï¼š
    int i2 = random.nextInt(100);
    ```

  - ##### å¸¸ç”¨æ–¹æ³•

    ```java
    boolean nextBoolean()         // è¿”å›ä¸‹ä¸€ä¸ªâ€œbooleanç±»å‹â€ä¼ªéšæœºæ•°ã€‚ 
    void    nextBytes(byte[] buf) // ç”Ÿæˆéšæœºå­—èŠ‚å¹¶å°†å…¶ç½®äºå­—èŠ‚æ•°ç»„bufä¸­ã€‚ 
    double  nextDouble()          // è¿”å›ä¸€ä¸ªâ€œ[0.0, 1.0) ä¹‹é—´çš„doubleç±»å‹â€çš„éšæœºæ•°ã€‚ 
    float   nextFloat()           // è¿”å›ä¸€ä¸ªâ€œ[0.0, 1.0) ä¹‹é—´çš„floatç±»å‹â€çš„éšæœºæ•°ã€‚ 
    int     nextInt()             // è¿”å›ä¸‹ä¸€ä¸ªâ€œintç±»å‹â€éšæœºæ•°ã€‚ 
    int     nextInt(int n)        // è¿”å›ä¸€ä¸ªâ€œ[0, n) ä¹‹é—´çš„intç±»å‹â€çš„éšæœºæ•°ã€‚ 
    long    nextLong()            // è¿”å›ä¸‹ä¸€ä¸ªâ€œlongç±»å‹â€éšæœºæ•°ã€‚ 
    ```

## ä¸‰ã€ThreadLocalRandom

ThreadLocalRandomç±»æ˜¯Java 7æ–°å¢çš„ä¸€ä¸ªç±»ï¼Œå®ƒæ˜¯Randomçš„å¢å¼ºç‰ˆã€‚åœ¨å¹¶å‘è®¿é—®çš„ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨ThreadLocalRandomæ¥ä»£æ›¿Randomå¯ä»¥å‡å°‘å¤šçº¿ç¨‹èµ„æºç«äº‰ï¼Œæœ€ç»ˆä¿è¯ç³»ç»Ÿå…·æœ‰æ›´å¥½çš„çº¿ç¨‹å®‰å…¨æ€§ã€‚

æˆ‘ä»¬è”æƒ³ä¸€ä¸‹ThreadLocalã€‚ThreadLocalé€šè¿‡è®©æ¯ä¸€ä¸ªçº¿ç¨‹å¤åˆ¶ä¸€ä»½å˜é‡ï¼Œä½¿å¾—åœ¨æ¯ä¸ªçº¿ç¨‹å¯¹å˜é‡è¿›è¡Œæ“ä½œæ—¶å®é™…æ˜¯æ“ä½œè‡ªå·±æœ¬åœ°å†…å­˜é‡Œé¢çš„å‰¯æœ¬ï¼Œä»è€Œé¿å…äº†å¯¹å…±äº«å˜é‡è¿›è¡ŒåŒæ­¥ã€‚

å®é™…ä¸ŠThreadLocalRandomçš„å®ç°ä¹Ÿæ˜¯è¿™ä¸ªåŸç†ï¼ŒRandomçš„ç¼ºç‚¹æ˜¯å¤šä¸ªçº¿ç¨‹ä¼šä½¿ç”¨åŒä¸€ä¸ªåŸå­æ€§ç§å­å˜é‡ï¼Œä»è€Œå¯¼è‡´å¯¹åŸå­å˜é‡æ›´æ–°çš„ç«äº‰ã€‚

ThreadLocalRandomç±»çš„ç”¨æ³•ä¸Randomç±»çš„ç”¨æ³•åŸºæœ¬ç›¸ä¼¼ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªé™æ€çš„current()æ–¹æ³•æ¥è·å–ThreadLocalRandomå¯¹è±¡ï¼Œè·å–è¯¥å¯¹è±¡ä¹‹åå³å¯è°ƒç”¨å„ç§nextInt()æ–¹æ³•æ¥è·å–ä¼ªéšæœºæ•°äº†ã€‚

ThreadLocalRandomä¸Randoméƒ½æ¯”Mathçš„random()æ–¹æ³•æä¾›äº†æ›´å¤šçš„æ–¹å¼æ¥ç”Ÿæˆå„ç§ä¼ªéšæœºæ•°ã€‚å¯ä»¥ç”Ÿæˆæµ®ç‚¹ç±»å‹çš„ä¼ªéšæœºæ•°ï¼Œä¹Ÿå¯ä»¥ç”Ÿæˆæ•´å‹ç±»å‹çš„ä¼ªéšæœºæ•°ï¼Œè¿˜å¯ä»¥æŒ‡å®šç”Ÿæˆéšæœºæ•°çš„èŒƒå›´ã€‚

```java
ThreadLocalRandom rand = ThreadLocalRandom.current();
//ç”Ÿæˆä¸€ä¸ª4~20çš„ä¼ªéšæœºæ•´æ•°
int val1 = rand.nextInt(4 , 20);
//ç”Ÿæˆä¸€ä¸ª2.0~10.0ä¹‹é—´çš„ä¼ªéšæœºæµ®ç‚¹æ•°
double val2 = rand.nextDouble(2.0 , 10.0);
```



## å››ã€UUID

UUIDæ˜¯jdk1.5ä¸­æ–°å¢çš„ä¸€ä¸ªç±»ï¼Œåœ¨java.utilä¸‹ï¼Œç”¨å®ƒå¯ä»¥äº§ç”Ÿä¸€ä¸ªå·ç§°å…¨çƒå”¯ä¸€çš„ID

UUIDç”Ÿæˆçš„å½¢å¼å¦‚ä¸‹ï¼Œä¼šæœ‰-ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¼šæŠŠ-å»æ‰

```java
aec0ae4d-59f9-4070-8c5b-13c00a4611b6
```

- ####  ä½¿ç”¨

  ```java
  String uuid = UUID.randomUUID().toString();
  uuid = uuid.replace("-", "");
  ```



## äº”ã€è·å–å­—æ¯å’Œæ•°å­—çš„éšæœºæ•°

å¦‚æœæˆ‘ä»¬æƒ³è·å–ä¸€ä¸ªå­—æ¯å’Œæ•°å­—çš„éšæœºæ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•

```java
 public static final String str="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

 public static String getRandomString(int length){
     
     Random random=new Random();
     StringBuffer sb=new StringBuffer();
     for(int i=0;i<length;i++){
       int number=random.nextInt(62);
       sb.append(str.charAt(number));
     }
     return sb.toString();
 }
```



