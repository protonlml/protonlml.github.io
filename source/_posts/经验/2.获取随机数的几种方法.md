---
title: 2.获取随机数的几种方法
date: 2019-09-22 13:00:00
author: 𝚲𝚳𝚲
tags:   # 添加博文标签
	- 经验
categories:   # 添加博文分类
	- 经验
password: 767136280
---

## 一、使用Math.random()方法

- #### Math.random() 产生的随机数是0-1之间的一个double数值，有15位小数，我们可以把他乘以一定的数，比如说乘以100，他就是个100以内的随机

  - ##### Math.random()获取到的随机数如下

  ```java
  0.6195107792727859
  ```

  

- #### 如下，为获取1到10的int类型随机数，+1表示最小值为1，因为random方法的最小值是0

  ```java
  (int)(1+Math.random()*10)
  ```

  

- #### 生成0到9的随机数，如下

  ```java
  (int)(Math.random()*10)
  ```

- #### 想要获得比m小1的int或者long类型数值，只需要使用以下公式

  ```java
  (类型)(Math.random()*m)
  ```

- #### 获取10到99的随机数

  ```java
  (int)(Math.random()*90+10)
  ```

- ### 注意：Math.random() 产生的随机数是大于等于0，小于1（不等于1）的double数值

## 二、Random类

- #### 通过Random类来产生一个随机数，这个是专业的Random工具类，功能强大。

- #### 使用方法如下：

  - ##### (01) 创建Random对象。有两种方法可以创建Random对象，如下：

    ```java
    Random random = new Random();//默认构造方法
    Random random = new Random(1000);//指定种子数字一般不用# 如果两个对象都指定相同参数构造对象，那么随机出来的数是一样的
    ```

  - ##### (02) 通过Random对象获取随机数。Random支持的随机值类型包括：boolean, byte, int, long, float, double。

    ```java
    比如，获取[0, 100)之间的int整数。方法如下：
    int i2 = random.nextInt(100);
    ```

  - ##### 常用方法

    ```java
    boolean nextBoolean()         // 返回下一个“boolean类型”伪随机数。 
    void    nextBytes(byte[] buf) // 生成随机字节并将其置于字节数组buf中。 
    double  nextDouble()          // 返回一个“[0.0, 1.0) 之间的double类型”的随机数。 
    float   nextFloat()           // 返回一个“[0.0, 1.0) 之间的float类型”的随机数。 
    int     nextInt()             // 返回下一个“int类型”随机数。 
    int     nextInt(int n)        // 返回一个“[0, n) 之间的int类型”的随机数。 
    long    nextLong()            // 返回下一个“long类型”随机数。 
    ```

## 三、ThreadLocalRandom

ThreadLocalRandom类是Java 7新增的一个类，它是Random的增强版。在并发访问的环境下，使用ThreadLocalRandom来代替Random可以减少多线程资源竞争，最终保证系统具有更好的线程安全性。

我们联想一下ThreadLocal。ThreadLocal通过让每一个线程复制一份变量，使得在每个线程对变量进行操作时实际是操作自己本地内存里面的副本，从而避免了对共享变量进行同步。

实际上ThreadLocalRandom的实现也是这个原理，Random的缺点是多个线程会使用同一个原子性种子变量，从而导致对原子变量更新的竞争。

ThreadLocalRandom类的用法与Random类的用法基本相似，它提供了一个静态的current()方法来获取ThreadLocalRandom对象，获取该对象之后即可调用各种nextInt()方法来获取伪随机数了。

ThreadLocalRandom与Random都比Math的random()方法提供了更多的方式来生成各种伪随机数。可以生成浮点类型的伪随机数，也可以生成整型类型的伪随机数，还可以指定生成随机数的范围。

```java
ThreadLocalRandom rand = ThreadLocalRandom.current();
//生成一个4~20的伪随机整数
int val1 = rand.nextInt(4 , 20);
//生成一个2.0~10.0之间的伪随机浮点数
double val2 = rand.nextDouble(2.0 , 10.0);
```



## 四、UUID

UUID是jdk1.5中新增的一个类，在java.util下，用它可以产生一个号称全球唯一的ID

UUID生成的形式如下，会有-，所以我们一般会把-去掉

```java
aec0ae4d-59f9-4070-8c5b-13c00a4611b6
```

- ####  使用

  ```java
  String uuid = UUID.randomUUID().toString();
  uuid = uuid.replace("-", "");
  ```



## 五、获取字母和数字的随机数

如果我们想获取一个字母和数字的随机数，我们可以使用以下方法

```java
 public static final String str="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

 public static String getRandomString(int length){
     
     Random random=new Random();
     StringBuffer sb=new StringBuffer();
     for(int i=0;i<length;i++){
       int number=random.nextInt(62);
       sb.append(str.charAt(number));
     }
     return sb.toString();
 }
```



