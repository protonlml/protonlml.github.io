<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- å¼ºåˆ¶é¡µé¢åœ¨å½“å‰çª—å£ä»¥ç‹¬ç«‹é¡µé¢æ˜¾ç¤º,é˜²æ­¢åˆ«äººåœ¨æ¡†æ¶é‡Œè°ƒç”¨é¡µé¢ -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>ç¬¬å…­ç«  ä¼šè¯\_è¿‡æ»¤å™¨\_ç›‘å¬å™¨ | ğš²ğš³ğš²çš„åšå®¢</title>
  <meta name="description" content="ç¬¬å…­ç«  ä¼šè¯_è¿‡æ»¤å™¨_ç›‘å¬å™¨ä¸€  ä¼šè¯1.1 ä¼šè¯ç®¡ç†æ¦‚è¿°1.1.1 ä¸ºä»€ä¹ˆéœ€è¦ä¼šè¯ç®¡ç† HTTPæ˜¯æ— çŠ¶æ€åè®®   æ— çŠ¶æ€å°±æ˜¯ä¸ä¿å­˜çŠ¶æ€,å³æ— çŠ¶æ€åè®®(stateless),HTTPåè®®è‡ªèº«ä¸å¯¹è¯·æ±‚å’Œå“åº”ä¹‹é—´çš„é€šä¿¡çŠ¶æ€è¿›è¡Œä¿å­˜,ä¹Ÿå°±æ˜¯è¯´,åœ¨HTTPåè®®è¿™ä¸ªçº§åˆ«,åè®®å¯¹äºå‘é€è¿‡çš„è¯·æ±‚æˆ–è€…å“åº”éƒ½ä¸åšæŒä¹…åŒ–å¤„ç† ç®€å•ç†è§£:æµè§ˆå™¨å‘é€è¯·æ±‚,æœåŠ¡å™¨æ¥æ”¶å¹¶å“åº”,ä½†æ˜¯æœåŠ¡å™¨ä¸è®°å½•è¯·æ±‚æ˜¯å¦æ¥è‡ªå“ªä¸ªæµè§ˆå™¨,æœåŠ¡å™¨æ²¡">
<meta property="og:type" content="article">
<meta property="og:title" content="ç¬¬å…­ç«  ä¼šè¯\_è¿‡æ»¤å™¨\_ç›‘å¬å™¨">
<meta property="og:url" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="ç¬¬å…­ç«  ä¼šè¯_è¿‡æ»¤å™¨_ç›‘å¬å™¨ä¸€  ä¼šè¯1.1 ä¼šè¯ç®¡ç†æ¦‚è¿°1.1.1 ä¸ºä»€ä¹ˆéœ€è¦ä¼šè¯ç®¡ç† HTTPæ˜¯æ— çŠ¶æ€åè®®   æ— çŠ¶æ€å°±æ˜¯ä¸ä¿å­˜çŠ¶æ€,å³æ— çŠ¶æ€åè®®(stateless),HTTPåè®®è‡ªèº«ä¸å¯¹è¯·æ±‚å’Œå“åº”ä¹‹é—´çš„é€šä¿¡çŠ¶æ€è¿›è¡Œä¿å­˜,ä¹Ÿå°±æ˜¯è¯´,åœ¨HTTPåè®®è¿™ä¸ªçº§åˆ«,åè®®å¯¹äºå‘é€è¿‡çš„è¯·æ±‚æˆ–è€…å“åº”éƒ½ä¸åšæŒä¹…åŒ–å¤„ç† ç®€å•ç†è§£:æµè§ˆå™¨å‘é€è¯·æ±‚,æœåŠ¡å™¨æ¥æ”¶å¹¶å“åº”,ä½†æ˜¯æœåŠ¡å™¨ä¸è®°å½•è¯·æ±‚æ˜¯å¦æ¥è‡ªå“ªä¸ªæµè§ˆå™¨,æœåŠ¡å™¨æ²¡">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://protonlml.github.io/images/1682411089082.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682411522695.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682411757748.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682470547651.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682470652577.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682471183183.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682471232199.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682471342313.png">
<meta property="og:image" content="https://protonlml.github.io/images/1682413051408.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682476311432.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682476350602.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682477914654.png">
<meta property="og:image" content="https://protonlml.github.io/images/1682478412527.png">
<meta property="og:image" content="https://protonlml.github.io/images/1682478633650.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682480592506.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682480716152.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682480913847.png">
<meta property="og:image" content="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/images/1682488186891.png">
<meta property="og:image" content="https://protonlml.github.io/images/1682494494396.png">
<meta property="og:image" content="https://protonlml.github.io/images/1682496991032.png">
<meta property="og:image" content="https://protonlml.github.io/images/1682556566084.png">
<meta property="og:image" content="https://protonlml.github.io/images/1682497251883.png">
<meta property="og:image" content="https://protonlml.github.io/images/1682565824241.png">
<meta property="og:image" content="https://protonlml.github.io/images/image_bjXPJoLb6a-1690508517199.png">
<meta property="og:image" content="https://protonlml.github.io/images/1690511433594.png">
<meta property="article:published_time" content="2019-10-08T06:00:00.000Z">
<meta property="article:modified_time" content="2024-12-02T13:17:29.066Z">
<meta property="article:author" content="ğš²ğš³ğš²">
<meta property="article:tag" content="javaweb">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://protonlml.github.io/images/1682411089082.png">
  <!-- Canonical links -->
  <link rel="canonical" href="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 6.3.0"></head>


<body class="main-center theme-white" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">ğš²ğš³ğš²</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">â—™</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="æœç´¢" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">é¦–é¡µ</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">å½’æ¡£</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">åˆ†ç±»</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">æ ‡ç­¾</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">é¡¹ç›®</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">å‹é“¾</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">å…³äº</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/protonlml" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">å…¬å‘Š</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>æ¬¢è¿äº¤æµä¸åˆ†äº«ç»éªŒ!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">åˆ†ç±»</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/IDEA%E5%BF%AB%E6%8D%B7%E9%94%AE/">IDEAå¿«æ·é”®</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Servlet/">Servlet</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">50</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/maven/">maven</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/javaweb/">javaweb</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql8-0-22/">mysql8.0.22</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/">åšå®¢ç›¸å…³</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7%E7%B1%BB/">å·¥å…·ç±»</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95/">å¸¸è§ç®—æ³•</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/">æ­å»ºå›¾åºŠ</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%8F%E9%AA%8C/">ç»éªŒ</a><span class="category-list-count">15</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Alist/" rel="tag">Alist</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDEA/" rel="tag">IDEA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Picgo/" rel="tag">Picgo</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pure%E4%B8%BB%E9%A2%98/" rel="tag">Pureä¸»é¢˜</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UML%E7%B1%BB%E5%9B%BE/" rel="tag">UMLç±»å›¾</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaScript/" rel="tag">javaScript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaweb/" rel="tag">javaweb</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%9F%BA%E7%A1%80/" rel="tag">javaåŸºç¡€</a><span class="tag-list-count">47</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/matery%E4%B8%BB%E9%A2%98/" rel="tag">materyä¸»é¢˜</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql8-0-22/" rel="tag">mysql8.0.22</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/" rel="tag">npm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E5%BA%8A/" rel="tag">å›¾åºŠ</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/" rel="tag">å·¥å…·ç±»</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95/" rel="tag">å¸¸è§ç®—æ³•</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%8F%E9%AA%8C/" rel="tag">ç»éªŒ</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A1%B9%E7%9B%AE%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" rel="tag">é¡¹ç›®è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">ä¸€æœˆ 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">ä¸‰æœˆ 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">åæœˆ 2019</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">ä¹æœˆ 2019</a><span class="archive-list-count">83</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">å…«æœˆ 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">ä¸€æœˆ 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/1995/09/">ä¹æœˆ 1995</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/1969/10/">åæœˆ 1969</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/1968/10/">åæœˆ 1968</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/">åšå®¢ç›¸å…³</a>
              </p>
              <p class="item-title">
                <a href="/2024/01/01/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E6%8C%82%E5%B9%B4%E5%85%BD/" class="title">æ‚¬æŒ‚å¹´å…½ å–œå¢é¾™å¹´</a>
              </p>
              <p class="item-date">
                <time datetime="2024-01-01T03:00:00.000Z" itemprop="datePublished">2024-01-01</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/">åšå®¢ç›¸å…³</a>
              </p>
              <p class="item-title">
                <a href="/2020/03/17/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/matery%E4%B8%BB%E9%A2%98%E7%9A%84%E4%BD%BF%E7%94%A8/" class="title">materyä¸»é¢˜çš„ä½¿ç”¨</a>
              </p>
              <p class="item-date">
                <time datetime="2020-03-17T03:00:00.000Z" itemprop="datePublished">2020-03-17</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E7%BB%8F%E9%AA%8C/">ç»éªŒ</a>
              </p>
              <p class="item-title">
                <a href="/2019/10/10/%E7%BB%8F%E9%AA%8C/3.git%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BB%93%E5%BA%93%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F/" class="title">3.gitåˆå§‹åŒ–ä»“åº“çš„ä¸¤ç§æ–¹å¼</a>
              </p>
              <p class="item-date">
                <time datetime="2019-10-10T06:00:00.000Z" itemprop="datePublished">2019-10-10</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/java/">java</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/java/maven/">maven</a>
              </p>
              <p class="item-title">
                <a href="/2019/10/10/java%E5%9F%BA%E7%A1%80/Maven/" class="title">Maven</a>
              </p>
              <p class="item-date">
                <time datetime="2019-10-10T03:00:00.000Z" itemprop="datePublished">2019-10-10</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/javaweb/">javaweb</a>
              </p>
              <p class="item-title">
                <a href="/2019/10/08/javaweb/08_%E7%AC%AC%E5%85%AB%E7%AB%A0%20%E5%BE%AE%E5%A4%B4%E6%9D%A1%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" class="title">ç¬¬å…«ç«  å¾®å¤´æ¡é¡¹ç›®å¼€å‘</a>
              </p>
              <p class="item-date">
                <time datetime="2019-10-08T08:00:00.000Z" itemprop="datePublished">2019-10-08</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-javaweb/06_ç¬¬å…­ç«  ä¼šè¯_è¿‡æ»¤å™¨_ç›‘å¬å™¨" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      ç¬¬å…­ç«  ä¼šè¯\_è¿‡æ»¤å™¨\_ç›‘å¬å™¨
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/" class="article-date">
	  <time datetime="2019-10-08T06:00:00.000Z" itemprop="datePublished">2019-10-08</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/javaweb/">javaweb</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/javaweb/" rel="tag">javaweb</a>
  </span>


        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/#comments" class="article-comment-link">è¯„è®º</a></span>
        
	
		<span class="post-wordcount hidden-xs" itemprop="wordCount">å­—æ•°ç»Ÿè®¡: 11.9k(å­—)</span>
	
	
		<span class="post-readcount hidden-xs" itemprop="timeRequired">é˜…è¯»æ—¶é•¿: 54(åˆ†)</span>
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h2 id="ç¬¬å…­ç« -ä¼šè¯-è¿‡æ»¤å™¨-ç›‘å¬å™¨"><a href="#ç¬¬å…­ç« -ä¼šè¯-è¿‡æ»¤å™¨-ç›‘å¬å™¨" class="headerlink" title="ç¬¬å…­ç«  ä¼šè¯_è¿‡æ»¤å™¨_ç›‘å¬å™¨"></a>ç¬¬å…­ç«  ä¼šè¯_è¿‡æ»¤å™¨_ç›‘å¬å™¨</h2><h1 id="ä¸€-ä¼šè¯"><a href="#ä¸€-ä¼šè¯" class="headerlink" title="ä¸€  ä¼šè¯"></a>ä¸€  ä¼šè¯</h1><h2 id="1-1-ä¼šè¯ç®¡ç†æ¦‚è¿°"><a href="#1-1-ä¼šè¯ç®¡ç†æ¦‚è¿°" class="headerlink" title="1.1 ä¼šè¯ç®¡ç†æ¦‚è¿°"></a>1.1 ä¼šè¯ç®¡ç†æ¦‚è¿°</h2><h3 id="1-1-1-ä¸ºä»€ä¹ˆéœ€è¦ä¼šè¯ç®¡ç†"><a href="#1-1-1-ä¸ºä»€ä¹ˆéœ€è¦ä¼šè¯ç®¡ç†" class="headerlink" title="1.1.1 ä¸ºä»€ä¹ˆéœ€è¦ä¼šè¯ç®¡ç†"></a>1.1.1 ä¸ºä»€ä¹ˆéœ€è¦ä¼šè¯ç®¡ç†</h3><blockquote>
<p>HTTPæ˜¯æ— çŠ¶æ€åè®®</p>
</blockquote>
<ul>
<li>æ— çŠ¶æ€å°±æ˜¯ä¸ä¿å­˜çŠ¶æ€,å³æ— çŠ¶æ€åè®®(stateless),HTTPåè®®è‡ªèº«ä¸å¯¹è¯·æ±‚å’Œå“åº”ä¹‹é—´çš„é€šä¿¡çŠ¶æ€è¿›è¡Œä¿å­˜,ä¹Ÿå°±æ˜¯è¯´,åœ¨HTTPåè®®è¿™ä¸ªçº§åˆ«,åè®®å¯¹äºå‘é€è¿‡çš„è¯·æ±‚æˆ–è€…å“åº”éƒ½ä¸åšæŒä¹…åŒ–å¤„ç†</li>
<li>ç®€å•ç†è§£:æµè§ˆå™¨å‘é€è¯·æ±‚,æœåŠ¡å™¨æ¥æ”¶å¹¶å“åº”,ä½†æ˜¯æœåŠ¡å™¨ä¸è®°å½•è¯·æ±‚æ˜¯å¦æ¥è‡ªå“ªä¸ªæµè§ˆå™¨,æœåŠ¡å™¨æ²¡è®°å½•æµè§ˆå™¨çš„ç‰¹å¾,å°±æ˜¯å®¢æˆ·ç«¯çš„çŠ¶æ€</li>
</ul>
<blockquote>
<p>ä¸¾ä¾‹: å¼ ä¸‰å»ä¸€å®¶é¥­é¦†ç‚¹äº†å‡ é“èœ,è§‰å¾—å‘³é“ä¸é”™,ç¬¬äºŒå¤©åˆå»äº†,å¯¹è€æ¿è¯´,è¿˜ç‚¹ä¸Šæ¬¡çš„é‚£å‡ é“èœ</p>
</blockquote>
<ul>
<li>æ— çŠ¶æ€: è€æ¿æ²¡æœ‰è®°å½•å¼ ä¸‰æ˜¯å¦æ¥è¿‡,æ›´æ²¡æœ‰è®°å½•ä¸Šæ¬¡ä»–ç‚¹äº†é‚£äº›èœ,å¼ ä¸‰åªèƒ½é‡æ–°å†ç‚¹ä¸€é</li>
<li>æœ‰çŠ¶æ€: è€æ¿æŠŠæ¯æ¬¡æ¥åƒé¥­çš„ç”¨æˆ·éƒ½åšå¥½è®°å½•,æŸ¥é˜…ä¸€ä¸‹ä¹‹å‰çš„è®°å½•,æŸ¥åˆ°äº†å¼ ä¸‰ä¹‹å‰çš„èœå•,ç›´æ¥ä¸‹å•</li>
</ul>
<h3 id="1-1-2-ä¼šè¯ç®¡ç†å®ç°çš„æ‰‹æ®µ"><a href="#1-1-2-ä¼šè¯ç®¡ç†å®ç°çš„æ‰‹æ®µ" class="headerlink" title="1.1.2 ä¼šè¯ç®¡ç†å®ç°çš„æ‰‹æ®µ"></a>1.1.2 ä¼šè¯ç®¡ç†å®ç°çš„æ‰‹æ®µ</h3><blockquote>
<p>Cookieå’ŒSessioné…åˆè§£å†³</p>
</blockquote>
<ul>
<li>cookieæ˜¯åœ¨å®¢æˆ·ç«¯ä¿ç•™å°‘é‡æ•°æ®çš„æŠ€æœ¯,ä¸»è¦é€šè¿‡å“åº”å¤´å‘å®¢æˆ·ç«¯å“åº”ä¸€äº›å®¢æˆ·ç«¯è¦ä¿ç•™çš„ä¿¡æ¯</li>
<li>sessionæ˜¯åœ¨æœåŠ¡ç«¯ä¿ç•™æ›´å¤šæ•°æ®çš„æŠ€æœ¯,ä¸»è¦é€šè¿‡HttpSessionå¯¹è±¡ä¿å­˜ä¸€äº›å’Œå®¢æˆ·ç«¯ç›¸å…³çš„ä¿¡æ¯</li>
<li>cookieå’Œsessioné…åˆè®°å½•è¯·æ±‚çŠ¶æ€</li>
</ul>
<blockquote>
<p>ä¸¾ä¾‹: å¼ ä¸‰å»é“¶è¡ŒåŠä¸šåŠ¡</p>
</blockquote>
<ul>
<li>å¼ ä¸‰ç¬¬ä¸€æ¬¡å»æŸä¸ªé“¶è¡ŒåŠä¸šåŠ¡,é“¶è¡Œä¼šä¸ºå¼ ä¸‰å¼€æˆ·(Session),å¹¶å‘å¼ ä¸‰å‘æ”¾ä¸€å¼ é“¶è¡Œå¡(cookie)</li>
<li>å¼ ä¸‰åé¢æ¯æ¬¡å»é“¶è¡Œ,å°±å¯ä»¥æºå¸¦ä¹‹é—´çš„é“¶è¡Œå¡(cookie),é“¶è¡Œæ ¹æ®é“¶è¡Œå¡æ‰¾åˆ°ä¹‹å‰å¼ ä¸‰çš„è´¦æˆ·(session)</li>
</ul>
<h2 id="1-2-Cookie"><a href="#1-2-Cookie" class="headerlink" title="1.2 Cookie"></a>1.2 Cookie</h2><h3 id="1-2-1-Cookieæ¦‚è¿°"><a href="#1-2-1-Cookieæ¦‚è¿°" class="headerlink" title="1.2.1 Cookieæ¦‚è¿°"></a>1.2.1 Cookieæ¦‚è¿°</h3><blockquote>
<p>cookieæ˜¯ä¸€ç§å®¢æˆ·ç«¯ä¼šè¯æŠ€æœ¯,cookieç”±æœåŠ¡ç«¯äº§ç”Ÿ,å®ƒæ˜¯æœåŠ¡å™¨å­˜æ”¾åœ¨æµè§ˆå™¨çš„ä¸€å°ä»½æ•°æ®,æµè§ˆå™¨ä»¥åæ¯æ¬¡è®¿é—®è¯¥æœåŠ¡å™¨çš„æ—¶å€™éƒ½ä¼šå°†è¿™å°ä»½æ•°æ®æºå¸¦åˆ°æœåŠ¡å™¨å»ã€‚</p>
</blockquote>
<ul>
<li>æœåŠ¡ç«¯åˆ›å»ºcookie,å°†cookieæ”¾å…¥å“åº”å¯¹è±¡ä¸­,Tomcatå®¹å™¨å°†cookieè½¬åŒ–ä¸ºset-cookieå“åº”å¤´,å“åº”ç»™å®¢æˆ·ç«¯</li>
<li>å®¢æˆ·ç«¯åœ¨æ”¶åˆ°cookieçš„å“åº”å¤´æ—¶,åœ¨ä¸‹æ¬¡è¯·æ±‚è¯¥æœåŠ¡çš„èµ„æºæ—¶,ä¼šä»¥cookieè¯·æ±‚å¤´çš„å½¢å¼æºå¸¦ä¹‹å‰æ”¶åˆ°çš„Cookie</li>
<li>cookieæ˜¯ä¸€ç§é”®å€¼å¯¹æ ¼å¼çš„æ•°æ®,ä»tomcat8.5å¼€å§‹å¯ä»¥ä¿å­˜ä¸­æ–‡,ä½†æ˜¯ä¸æ¨è</li>
<li>ç”±äºcookieæ˜¯å­˜å‚¨äºå®¢æˆ·ç«¯çš„æ•°æ®,æ¯”è¾ƒå®¹æ˜“æš´éœ²,ä¸€èˆ¬ä¸å­˜å‚¨ä¸€äº›æ•æ„Ÿæˆ–è€…å½±å“å®‰å…¨çš„æ•°æ®</li>
</ul>
<blockquote>
<p>åŸç†å›¾</p>
</blockquote>
<p><img src="/images/1682411089082.png" alt="1682411089082"></p>
<blockquote>
<p>åº”ç”¨åœºæ™¯ä¸¾ä¾‹</p>
</blockquote>
<ol>
<li><p>è®°å½•ç”¨æˆ·å</p>
<p> å½“æˆ‘ä»¬åœ¨ç”¨æˆ·åçš„è¾“å…¥æ¡†ä¸­è¾“å…¥å®Œç”¨æˆ·åå,æµè§ˆå™¨è®°å½•ç”¨æˆ·å,ä¸‹ä¸€æ¬¡å†è®¿é—®ç™»å½•é¡µé¢æ—¶,ç”¨æˆ·åè‡ªåŠ¨å¡«å……åˆ°ç”¨æˆ·åçš„è¾“å…¥æ¡†.</p>
</li>
<li><p>ä¿å­˜ç”µå½±æ’­æ”¾è¿›åº¦</p>
<p> åœ¨ç½‘é¡µä¸Šæ’­æ”¾ç”µå½±çš„æ—¶å€™,å¦‚æœä¸­é€”é€€å‡ºæµè§ˆå™¨äº†,ä¸‹è½½å†æ‰“å¼€æµè§ˆå™¨æ’­æ”¾åŒä¸€éƒ¨ç”µå½±çš„æ—¶å€™,ä¼šè‡ªåŠ¨è·³è½¬åˆ°ä¸Šæ¬¡é€€å‡ºæ—¶å€™çš„è¿›åº¦,å› ä¸ºåœ¨æ’­æ”¾çš„æ—¶å€™ä¼šå°†æ’­æ”¾è¿›åº¦ä¿å­˜åˆ°cookieä¸­</p>
</li>
</ol>
<h3 id="1-2-2-Cookieçš„ä½¿ç”¨"><a href="#1-2-2-Cookieçš„ä½¿ç”¨" class="headerlink" title="1.2.2 Cookieçš„ä½¿ç”¨"></a>1.2.2 Cookieçš„ä½¿ç”¨</h3><blockquote>
<p>servletAå‘å“åº”ä¸­å¢åŠ Cookie</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/servletA&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºCookie</span></span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">cookie1</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;c1&quot;</span>,<span class="string">&quot;c1_message&quot;</span>);</span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">cookie2</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;c2&quot;</span>,<span class="string">&quot;c2_message&quot;</span>);</span><br><span class="line">        <span class="comment">// å°†cookieæ”¾å…¥å“åº”å¯¹è±¡</span></span><br><span class="line">        resp.addCookie(cookie1);</span><br><span class="line">        resp.addCookie(cookie2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="images/1682411522695.png" alt="1682411522695" style="zoom:80%;" />







<blockquote>
<p>servletBä»è¯·æ±‚ä¸­è¯»å–Cookie</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/servletB&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è·å–è¯·æ±‚ä¸­çš„cookie</span></span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line">        <span class="comment">//è¿­ä»£cookiesæ•°ç»„</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> != cookies &amp;&amp; cookies.length!= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Cookie cookie : cookies) &#123;</span><br><span class="line">                System.out.println(cookie.getName()+<span class="string">&quot;:&quot;</span>+cookie.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="images/1682411757748.png" alt="1682411757748" style="zoom:67%;" />

<h3 id="1-2-2-Cookieçš„æ—¶æ•ˆæ€§"><a href="#1-2-2-Cookieçš„æ—¶æ•ˆæ€§" class="headerlink" title="1.2.2  Cookieçš„æ—¶æ•ˆæ€§"></a>1.2.2  Cookieçš„æ—¶æ•ˆæ€§</h3><blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹Cookieçš„æœ‰æ•ˆæœŸæ˜¯ä¸€æ¬¡ä¼šè¯èŒƒå›´å†…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡cookieçš„setMaxAge()æ–¹æ³•è®©CookieæŒä¹…åŒ–ä¿å­˜åˆ°æµè§ˆå™¨ä¸Š</p>
</blockquote>
<ul>
<li>ä¼šè¯çº§Cookie<ul>
<li>æœåŠ¡å™¨ç«¯å¹¶æ²¡æœ‰æ˜ç¡®æŒ‡å®šCookieçš„å­˜åœ¨æ—¶é—´</li>
<li>åœ¨æµè§ˆå™¨ç«¯ï¼ŒCookieæ•°æ®å­˜åœ¨äºå†…å­˜ä¸­</li>
<li>åªè¦æµè§ˆå™¨è¿˜å¼€ç€ï¼ŒCookieæ•°æ®å°±ä¸€ç›´éƒ½åœ¨</li>
<li>æµè§ˆå™¨å…³é—­ï¼Œå†…å­˜ä¸­çš„Cookieæ•°æ®å°±ä¼šè¢«é‡Šæ”¾</li>
</ul>
</li>
<li>æŒä¹…åŒ–Cookie<ul>
<li>æœåŠ¡å™¨ç«¯æ˜ç¡®è®¾ç½®äº†Cookieçš„å­˜åœ¨æ—¶é—´</li>
<li>åœ¨æµè§ˆå™¨ç«¯ï¼ŒCookieæ•°æ®ä¼šè¢«ä¿å­˜åˆ°ç¡¬ç›˜ä¸Š</li>
<li>Cookieåœ¨ç¡¬ç›˜ä¸Šå­˜åœ¨çš„æ—¶é—´æ ¹æ®æœåŠ¡å™¨ç«¯é™å®šçš„æ—¶é—´æ¥ç®¡æ§ï¼Œä¸å—æµè§ˆå™¨å…³é—­çš„å½±å“</li>
<li>æŒä¹…åŒ–Cookieåˆ°è¾¾äº†é¢„è®¾çš„æ—¶é—´ä¼šè¢«é‡Šæ”¾</li>
</ul>
</li>
</ul>
<blockquote>
<p>cookie.setMaxAge(int expiry)å‚æ•°å•ä½æ˜¯ç§’ï¼Œè¡¨ç¤ºcookieçš„æŒä¹…åŒ–æ—¶é—´ï¼Œå¦‚æœè®¾ç½®å‚æ•°ä¸º0ï¼Œè¡¨ç¤ºå°†æµè§ˆå™¨ä¸­ä¿å­˜çš„è¯¥cookieåˆ é™¤</p>
</blockquote>
<ul>
<li>servletAè®¾ç½®ä¸€ä¸ªCookieä¸ºæŒä¹…åŒ–cookie</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/servletA&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºCookie</span></span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">cookie1</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;c1&quot;</span>,<span class="string">&quot;c1_message&quot;</span>);</span><br><span class="line">        cookie1.setMaxAge(<span class="number">60</span>);</span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">cookie2</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;c2&quot;</span>,<span class="string">&quot;c2_message&quot;</span>);</span><br><span class="line">        <span class="comment">// å°†cookieæ”¾å…¥å“åº”å¯¹è±¡</span></span><br><span class="line">        resp.addCookie(cookie1);</span><br><span class="line">        resp.addCookie(cookie2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="images/1682470547651.png" alt="1682470547651" style="zoom: 67%;" />

<ul>
<li>servletBæ¥æ”¶Cookie,æµè§ˆå™¨ä¸­é—´å‘ç”Ÿä¸€æ¬¡é‡å¯å†è¯·æ±‚servletBæµ‹è¯•</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/servletB&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è·å–è¯·æ±‚ä¸­çš„cookie</span></span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line">        <span class="comment">//è¿­ä»£cookiesæ•°ç»„</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> != cookies &amp;&amp; cookies.length!= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Cookie cookie : cookies) &#123;</span><br><span class="line">                System.out.println(cookie.getName()+<span class="string">&quot;:&quot;</span>+cookie.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="images/1682470652577.png" alt="1682470652577" style="zoom: 70%;" />





<h3 id="1-2-3-Cookieçš„æäº¤è·¯å¾„"><a href="#1-2-3-Cookieçš„æäº¤è·¯å¾„" class="headerlink" title="1.2.3 Cookieçš„æäº¤è·¯å¾„"></a>1.2.3 Cookieçš„æäº¤è·¯å¾„</h3><blockquote>
<p>è®¿é—®äº’è”ç½‘èµ„æºæ—¶ä¸èƒ½æ¯æ¬¡éƒ½éœ€è¦æŠŠæ‰€æœ‰Cookieå¸¦ä¸Šã€‚è®¿é—®ä¸åŒçš„èµ„æºæ—¶,å¯ä»¥æºå¸¦ä¸åŒçš„cookie,æˆ‘ä»¬å¯ä»¥é€šè¿‡cookieçš„setPath(String path) å¯¹cookieçš„è·¯å¾„è¿›è¡Œè®¾ç½®</p>
</blockquote>
<ul>
<li>ä»ServletAä¸­è·å–cookie</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºCookie</span></span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">cookie1</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;c1&quot;</span>,<span class="string">&quot;c1_message&quot;</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®cookieçš„æäº¤è·¯å¾„</span></span><br><span class="line">        cookie1.setPath(<span class="string">&quot;/web03_war_exploded/servletB&quot;</span>);</span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">cookie2</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;c2&quot;</span>,<span class="string">&quot;c2_message&quot;</span>);</span><br><span class="line">        <span class="comment">// å°†cookieæ”¾å…¥å“åº”å¯¹è±¡</span></span><br><span class="line">        resp.addCookie(cookie1);</span><br><span class="line">        resp.addCookie(cookie2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="images/1682471183183.png" alt="1682471183183" style="zoom:80%;" />

<ul>
<li>å‘ServletBè¯·æ±‚æ—¶æºå¸¦æºå¸¦äº† c1</li>
</ul>
<img src="images/1682471232199.png" alt="1682471232199" style="zoom:95%;" />

<ul>
<li>å‘å…¶ä»–èµ„æºè¯·æ±‚æ—¶å°±ä¸æºå¸¦c1äº†</li>
</ul>
<img src="images/1682471342313.png" alt="1682471342313" style="zoom:80%;" />



<h2 id="1-3-Session"><a href="#1-3-Session" class="headerlink" title="1.3 Session"></a>1.3 Session</h2><h3 id="1-3-1-HttpSessionæ¦‚è¿°"><a href="#1-3-1-HttpSessionæ¦‚è¿°" class="headerlink" title="1.3.1 HttpSessionæ¦‚è¿°"></a>1.3.1 HttpSessionæ¦‚è¿°</h3><blockquote>
<p> HttpSessionæ˜¯ä¸€ç§ä¿ç•™æ›´å¤šä¿¡æ¯åœ¨æœåŠ¡ç«¯çš„ä¸€ç§æŠ€æœ¯,æœåŠ¡å™¨ä¼šä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´,å³sessionå¯¹è±¡. å®¢æˆ·ç«¯åœ¨å‘é€è¯·æ±‚æ—¶,éƒ½å¯ä»¥ä½¿ç”¨è‡ªå·±çš„session. è¿™æ ·æœåŠ¡ç«¯å°±å¯ä»¥é€šè¿‡sessionæ¥è®°å½•æŸä¸ªå®¢æˆ·ç«¯çš„çŠ¶æ€äº†</p>
</blockquote>
<ul>
<li>æœåŠ¡ç«¯åœ¨ä¸ºå®¢æˆ·ç«¯åˆ›å»ºsessionæ—¶,ä¼šåŒæ—¶å°†sessionå¯¹è±¡çš„id,å³JSESSIONIDä»¥cookieçš„å½¢å¼æ”¾å…¥å“åº”å¯¹è±¡</li>
<li>åç«¯åˆ›å»ºå®Œsessionå,å®¢æˆ·ç«¯ä¼šæ”¶åˆ°ä¸€ä¸ªç‰¹æ®Šçš„cookie,å«åšJSESSIONID</li>
<li>å®¢æˆ·ç«¯ä¸‹ä¸€æ¬¡è¯·æ±‚æ—¶æºå¸¦JSESSIONID,åç«¯æ”¶åˆ°å,æ ¹æ®JSESSIONIDæ‰¾åˆ°å¯¹åº”çš„sessionå¯¹è±¡</li>
<li>é€šè¿‡è¯¥æœºåˆ¶,æœåŠ¡ç«¯é€šè¿‡sessionå°±å¯ä»¥å­˜å‚¨ä¸€äº›ä¸“é—¨é’ˆå¯¹æŸä¸ªå®¢æˆ·ç«¯çš„ä¿¡æ¯äº†</li>
<li>sessionä¹Ÿæ˜¯åŸŸå¯¹è±¡(åç»­è¯¦ç»†è®²è§£)</li>
</ul>
<blockquote>
<p>åŸç†å›¾å¦‚ä¸‹</p>
</blockquote>
<p><img src="/images/1682413051408.png" alt="1682413051408"></p>
<blockquote>
<p>åº”ç”¨åœºæ™¯</p>
</blockquote>
<ol>
<li><p>è®°å½•ç”¨æˆ·çš„ç™»å½•çŠ¶æ€</p>
<p> ç”¨æˆ·ç™»å½•å,å°†ç”¨æˆ·çš„è´¦å·ç­‰æ•æ„Ÿä¿¡æ¯å­˜å…¥session</p>
</li>
<li><p>è®°å½•ç”¨æˆ·æ“ä½œçš„å†å²</p>
<p> ä¾‹å¦‚è®°å½•ç”¨æˆ·çš„è®¿é—®ç—•è¿¹,ç”¨æˆ·çš„è´­ç‰©è½¦ä¿¡æ¯ç­‰ä¸´æ—¶æ€§çš„ä¿¡æ¯</p>
</li>
</ol>
<h3 id="1-3-2-HttpSessionçš„ä½¿ç”¨"><a href="#1-3-2-HttpSessionçš„ä½¿ç”¨" class="headerlink" title="1.3.2 HttpSessionçš„ä½¿ç”¨"></a>1.3.2 HttpSessionçš„ä½¿ç”¨</h3><blockquote>
<p>ç”¨æˆ·æäº¤formè¡¨å•åˆ°ServletA,æºå¸¦ç”¨æˆ·å,ServletAè·å–session å°†ç”¨æˆ·åå­˜åˆ°Session,ç”¨æˆ·å†è¯·æ±‚å…¶ä»–ä»»æ„Servlet,è·å–ä¹‹é—´å­˜å‚¨çš„ç”¨æˆ·</p>
</blockquote>
<ul>
<li>å®šä¹‰è¡¨å•é¡µ,æäº¤ç”¨æˆ·å,æäº¤å</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;servletA&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    ç”¨æˆ·å:</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å®šä¹‰ServletA,å°†ç”¨æˆ·åå­˜å…¥session</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/servletA&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// è·å–è¯·æ±‚ä¸­çš„å‚æ•°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="comment">// è·å–sessionå¯¹è±¡</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">         <span class="comment">// è·å–Sessionçš„ID</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">jSessionId</span> <span class="operator">=</span> session.getId();</span><br><span class="line">        System.out.println(jSessionId);</span><br><span class="line">        <span class="comment">// åˆ¤æ–­sessionæ˜¯ä¸æ˜¯æ–°åˆ›å»ºçš„session</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isNew</span> <span class="operator">=</span> session.isNew();</span><br><span class="line">        System.out.println(isNew);</span><br><span class="line">        <span class="comment">// å‘sessionå¯¹è±¡ä¸­å­˜å…¥æ•°æ®</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;username&quot;</span>,username);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å“åº”ä¸­æ”¶åˆ°äº†ä¸€ä¸ªJSESSIONIDçš„cookie</li>
</ul>
<img src="images/1682476311432.png" alt="1682476311432" style="zoom:80%;" />

<ul>
<li>å®šä¹‰å…¶ä»–Servlet,ä»sessionä¸­è¯»å–ç”¨æˆ·å</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/servletB&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// è·å–sessionå¯¹è±¡</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">         <span class="comment">// è·å–Sessionçš„ID</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">jSessionId</span> <span class="operator">=</span> session.getId();</span><br><span class="line">        System.out.println(jSessionId);</span><br><span class="line">        <span class="comment">// åˆ¤æ–­sessionæ˜¯ä¸æ˜¯æ–°åˆ›å»ºçš„session</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isNew</span> <span class="operator">=</span> session.isNew();</span><br><span class="line">        System.out.println(isNew);</span><br><span class="line">        <span class="comment">// ä»sessionä¸­å–å‡ºæ•°æ®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> (String)session.getAttribute(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        System.out.println(username);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¯·æ±‚ä¸­æºå¸¦äº†ä¸€ä¸ªJSESSIONIDçš„cookie</li>
</ul>
<img src="images/1682476350602.png" alt="1682476350602" style="zoom:80%;" />

<blockquote>
<p>getSessionæ–¹æ³•çš„å¤„ç†é€»è¾‘</p>
</blockquote>
<img src="images/1682477914654.png" alt="1682477914654" style="zoom: 80%;" />



<h3 id="1-3-3-HttpSessionæ—¶æ•ˆæ€§"><a href="#1-3-3-HttpSessionæ—¶æ•ˆæ€§" class="headerlink" title="1.3.3 HttpSessionæ—¶æ•ˆæ€§"></a>1.3.3 HttpSessionæ—¶æ•ˆæ€§</h3><blockquote>
<p>ä¸ºä»€ä¹ˆè¦è®¾ç½®sessionçš„æ—¶æ•ˆ</p>
</blockquote>
<ul>
<li>ç”¨æˆ·é‡å¾ˆå¤§ä¹‹åï¼ŒSessionå¯¹è±¡ç›¸åº”çš„ä¹Ÿè¦åˆ›å»ºå¾ˆå¤šã€‚å¦‚æœä¸€å‘³åˆ›å»ºä¸é‡Šæ”¾ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ç«¯çš„å†…å­˜è¿Ÿæ—©è¦è¢«è€—å°½ã€‚</li>
<li>å®¢æˆ·ç«¯å…³é—­è¡Œä¸ºæ— æ³•è¢«æœåŠ¡ç«¯ç›´æ¥ä¾¦æµ‹,æˆ–è€…å®¢æˆ·ç«¯è¾ƒé•¿æ—¶é—´ä¸æ“ä½œä¹Ÿç»å¸¸å‡ºç°,ç±»ä¼¼è¿™äº›çš„æƒ…å†µ,å°±éœ€è¦å¯¹sessionçš„æ—¶é™è¿›è¡Œè®¾ç½®äº†</li>
</ul>
<blockquote>
<p>é»˜è®¤çš„sessionæœ€å¤§é—²ç½®æ—¶é—´(ä¸¤æ¬¡ä½¿ç”¨åŒä¸€ä¸ªsessionä¸­çš„é—´éš”æ—¶é—´) åœ¨tomcat&#x2F;conf&#x2F;web.xmlé…ç½®ä¸º30åˆ†é’Ÿ</p>
</blockquote>
<p><img src="/images/1682478412527.png" alt="1682478412527"></p>
<blockquote>
<p>æˆ‘ä»¬å¯ä»¥è‡ªå·±åœ¨å½“å‰é¡¹ç›®çš„web.xmlå¯¹æœ€å¤§é—²ç½®æ—¶é—´è¿›è¡Œé‡æ–°è®¾å®š</p>
</blockquote>
<p><img src="/images/1682478633650.png" alt="1682478633650"></p>
<blockquote>
<p>ä¹Ÿå¯ä»¥é€šè¿‡HttpSessionçš„API å¯¹æœ€å¤§é—²ç½®æ—¶é—´è¿›è¡Œè®¾å®š</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®æœ€å¤§é—²ç½®æ—¶é—´</span></span><br><span class="line">session.setMaxInactiveInterval(<span class="number">60</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¹Ÿå¯ä»¥ç›´æ¥è®©sessionå¤±æ•ˆ</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥è®©sessionå¤±æ•ˆ</span></span><br><span class="line">session.invalidate();</span><br></pre></td></tr></table></figure>

<h2 id="1-4-ä¸‰å¤§åŸŸå¯¹è±¡"><a href="#1-4-ä¸‰å¤§åŸŸå¯¹è±¡" class="headerlink" title="1.4 ä¸‰å¤§åŸŸå¯¹è±¡"></a>1.4 ä¸‰å¤§åŸŸå¯¹è±¡</h2><h3 id="1-4-1-åŸŸå¯¹è±¡æ¦‚è¿°"><a href="#1-4-1-åŸŸå¯¹è±¡æ¦‚è¿°" class="headerlink" title="1.4.1 åŸŸå¯¹è±¡æ¦‚è¿°"></a>1.4.1 åŸŸå¯¹è±¡æ¦‚è¿°</h3><blockquote>
<p>åŸŸå¯¹è±¡: ä¸€äº›ç”¨äºå­˜å‚¨æ•°æ®å’Œä¼ é€’æ•°æ®çš„å¯¹è±¡,ä¼ é€’æ•°æ®ä¸åŒçš„èŒƒå›´,æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸åŒçš„åŸŸ,ä¸åŒçš„åŸŸå¯¹è±¡ä»£è¡¨ä¸åŒçš„åŸŸ,å…±äº«æ•°æ®çš„èŒƒå›´ä¹Ÿä¸åŒ</p>
</blockquote>
<ul>
<li>webé¡¹ç›®ä¸­,æˆ‘ä»¬ä¸€å®šè¦ç†Ÿç»ƒä½¿ç”¨çš„åŸŸå¯¹è±¡åˆ†åˆ«æ˜¯ è¯·æ±‚åŸŸ,ä¼šè¯åŸŸ,åº”ç”¨åŸŸ</li>
<li>è¯·æ±‚åŸŸå¯¹è±¡æ˜¯HttpServletRequest ,ä¼ é€’æ•°æ®çš„èŒƒå›´æ˜¯ä¸€æ¬¡è¯·æ±‚ä¹‹å†…åŠè¯·æ±‚è½¬å‘</li>
<li>ä¼šè¯åŸŸå¯¹è±¡æ˜¯HttpSession,ä¼ é€’æ•°æ®çš„èŒƒå›´æ˜¯ä¸€æ¬¡ä¼šè¯ä¹‹å†…,å¯ä»¥è·¨å¤šä¸ªè¯·æ±‚</li>
<li>åº”ç”¨åŸŸå¯¹è±¡æ˜¯ServletContext,ä¼ é€’æ•°æ®çš„èŒƒå›´æ˜¯æœ¬åº”ç”¨ä¹‹å†…,å¯ä»¥è·¨å¤šä¸ªä¼šè¯</li>
</ul>
<blockquote>
<p>ç”Ÿæ´»ä¸¾ä¾‹: çƒ­æ°´å™¨æ‘†æ”¾ä½ç½®ä¸åŒ,ä½¿ç”¨çš„èŒƒå›´å°±ä¸åŒ</p>
</blockquote>
<ol>
<li>æ‘†åœ¨å¼ ä¸‰å·¥ä½ä¸‹,å°±åªæœ‰å¼ ä¸‰ä¸€ä¸ªäººèƒ½ç”¨</li>
<li>æ‘†åœ¨åŠå…¬å®¤çš„å…¬å…±åŒº,åŠå…¬å®¤å†…çš„æ‰€æœ‰äººéƒ½å¯ä»¥ç”¨</li>
<li>æ‘†åœ¨æ¥¼å±‚çš„èµ°å»ŠåŒº,è¯¥æ¥¼å±‚çš„æ‰€æœ‰äººéƒ½å¯ä»¥ç”¨</li>
</ol>
<blockquote>
<p>ä¸‰å¤§åŸŸå¯¹è±¡çš„æ•°æ®ä½œç”¨èŒƒå›´å›¾è§£</p>
</blockquote>
<ul>
<li>è¯·æ±‚åŸŸ</li>
</ul>
<img src="images/1682480592506.png" alt="1682480592506" style="zoom: 60%;" />

<ul>
<li>ä¼šè¯åŸŸ</li>
</ul>
<img src="images/1682480716152.png" alt="1682480716152" style="zoom:60%;" />

<ul>
<li>åº”ç”¨åŸŸ</li>
</ul>
<img src="images/1682480913847.png" alt="1682480913847" style="zoom:60%;" />

<ul>
<li>æ‰€æœ‰åŸŸåœ¨ä¸€èµ·</li>
</ul>
<img src="images/1682488186891.png" alt="1682488186891" style="zoom:60%;" />

<h3 id="1-4-2-åŸŸå¯¹è±¡çš„ä½¿ç”¨"><a href="#1-4-2-åŸŸå¯¹è±¡çš„ä½¿ç”¨" class="headerlink" title="1.4.2 åŸŸå¯¹è±¡çš„ä½¿ç”¨"></a>1.4.2 åŸŸå¯¹è±¡çš„ä½¿ç”¨</h3><blockquote>
<p>åŸŸå¯¹è±¡çš„API</p>
</blockquote>
<table>
<thead>
<tr>
<th>API</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>void setAttribute(String name,String value)</td>
<td>å‘åŸŸå¯¹è±¡ä¸­æ·»åŠ &#x2F;ä¿®æ”¹æ•°æ®</td>
</tr>
<tr>
<td>Object getAttribute(String name);</td>
<td>ä»åŸŸå¯¹è±¡ä¸­è·å–æ•°æ®</td>
</tr>
<tr>
<td>removeAttribute(String name);</td>
<td>ç§»é™¤åŸŸå¯¹è±¡ä¸­çš„æ•°æ®</td>
</tr>
</tbody></table>
<blockquote>
<p>APIæµ‹è¯•</p>
</blockquote>
<ul>
<li>ServletAå‘ä¸‰å¤§åŸŸä¸­æ”¾å…¥æ•°æ®</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/servletA&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å‘è¯·æ±‚åŸŸä¸­æ”¾å…¥æ•°æ®</span></span><br><span class="line">        req.setAttribute(<span class="string">&quot;request&quot;</span>,<span class="string">&quot;request-message&quot;</span>);</span><br><span class="line">        <span class="comment">//req.getRequestDispatcher(&quot;servletB&quot;).forward(req,resp);</span></span><br><span class="line">        <span class="comment">// å‘ä¼šè¯åŸŸä¸­æ”¾å…¥æ•°æ®</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        session.setAttribute(<span class="string">&quot;session&quot;</span>,<span class="string">&quot;session-message&quot;</span>);</span><br><span class="line">        <span class="comment">// å‘åº”ç”¨åŸŸä¸­æ”¾å…¥æ•°æ®</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> getServletContext();</span><br><span class="line">        application.setAttribute(<span class="string">&quot;application&quot;</span>,<span class="string">&quot;application-message&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>ServletBä»ä¸‰å¤§äºä¸­å–å‡ºæ•°æ®</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/servletB&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// ä»è¯·æ±‚åŸŸä¸­è·å–æ•°æ®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">reqMessage</span> <span class="operator">=</span>(String)req.getAttribute(<span class="string">&quot;request&quot;</span>);</span><br><span class="line">        System.out.println(reqMessage);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä»ä¼šè¯åŸŸä¸­è·å–æ•°æ®</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="type">String</span> <span class="variable">sessionMessage</span> <span class="operator">=</span>(String)session.getAttribute(<span class="string">&quot;session&quot;</span>);</span><br><span class="line">        System.out.println(sessionMessage);</span><br><span class="line">        <span class="comment">// ä»åº”ç”¨åŸŸä¸­è·å–æ•°æ®</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> getServletContext();</span><br><span class="line">        <span class="type">String</span> <span class="variable">applicationMessage</span> <span class="operator">=</span>(String)application.getAttribute(<span class="string">&quot;application&quot;</span>);</span><br><span class="line">        System.out.println(applicationMessage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>è¯·æ±‚è½¬å‘æ—¶,è¯·æ±‚åŸŸå¯ä»¥ä¼ é€’æ•°æ®<code>è¯·æ±‚åŸŸå†…ä¸€èˆ¬æ”¾æœ¬æ¬¡è¯·æ±‚ä¸šåŠ¡æœ‰å…³çš„æ•°æ®,å¦‚:æŸ¥è¯¢åˆ°çš„æ‰€æœ‰çš„éƒ¨é—¨ä¿¡æ¯</code></li>
<li>åŒä¸€ä¸ªä¼šè¯å†…,ä¸ç”¨è¯·æ±‚è½¬å‘,ä¼šè¯åŸŸå¯ä»¥ä¼ é€’æ•°æ®<code>ä¼šè¯åŸŸå†…ä¸€èˆ¬æ”¾æœ¬æ¬¡ä¼šè¯çš„å®¢æˆ·ç«¯æœ‰å…³çš„æ•°æ®,å¦‚:å½“å‰å®¢æˆ·ç«¯ç™»å½•çš„ç”¨æˆ·</code> </li>
<li>åŒä¸€ä¸ªAPPå†…,ä¸åŒçš„å®¢æˆ·ç«¯,åº”ç”¨åŸŸå¯ä»¥ä¼ é€’æ•°æ®<code>åº”ç”¨åŸŸå†…ä¸€èˆ¬æ”¾æœ¬ç¨‹åºåº”ç”¨æœ‰å…³çš„æ•°æ® å¦‚:Springæ¡†æ¶çš„IOCå®¹å™¨</code></li>
</ul>
<h1 id="äºŒ-è¿‡æ»¤å™¨"><a href="#äºŒ-è¿‡æ»¤å™¨" class="headerlink" title="äºŒ è¿‡æ»¤å™¨"></a>äºŒ è¿‡æ»¤å™¨</h1><h2 id="2-1-è¿‡æ»¤å™¨æ¦‚è¿°"><a href="#2-1-è¿‡æ»¤å™¨æ¦‚è¿°" class="headerlink" title="2.1 è¿‡æ»¤å™¨æ¦‚è¿°"></a>2.1 è¿‡æ»¤å™¨æ¦‚è¿°</h2><blockquote>
<p>Filter,å³è¿‡æ»¤å™¨,æ˜¯JAVAEEæŠ€æœ¯è§„èŒƒä¹‹ä¸€,ä½œç”¨ç›®æ ‡èµ„æºçš„è¯·æ±‚è¿›è¡Œè¿‡æ»¤çš„ä¸€å¥—æŠ€æœ¯è§„èŒƒ,æ˜¯Java Webé¡¹ç›®ä¸­<code>æœ€ä¸ºå®ç”¨çš„æŠ€æœ¯ä¹‹ä¸€</code></p>
</blockquote>
<ul>
<li>Filteræ¥å£å®šä¹‰äº†è¿‡æ»¤å™¨çš„å¼€å‘è§„èŒƒ,æ‰€æœ‰çš„è¿‡æ»¤å™¨éƒ½è¦å®ç°è¯¥æ¥å£</li>
<li>Filterçš„å·¥ä½œä½ç½®æ˜¯é¡¹ç›®ä¸­æ‰€æœ‰ç›®æ ‡èµ„æºä¹‹å‰,å®¹å™¨åœ¨åˆ›å»ºHttpServletRequestå’ŒHttpServletResponseå¯¹è±¡å,ä¼šå…ˆè°ƒç”¨Filterçš„doFilteræ–¹æ³•</li>
<li>Filterçš„doFilteræ–¹æ³•å¯ä»¥æ§åˆ¶è¯·æ±‚æ˜¯å¦ç»§ç»­,å¦‚æœæ”¾è¡Œ,åˆ™è¯·æ±‚ç»§ç»­,å¦‚æœæ‹’ç»,åˆ™è¯·æ±‚åˆ°æ­¤ä¸ºæ­¢,ç”±è¿‡æ»¤å™¨æœ¬èº«åšå‡ºå“åº”</li>
<li>Filterä¸ä»…å¯ä»¥å¯¹è¯·æ±‚åšå‡ºè¿‡æ»¤,ä¹Ÿå¯ä»¥åœ¨ç›®æ ‡èµ„æºåšå‡ºå“åº”å‰,å¯¹å“åº”å†æ¬¡è¿›è¡Œå¤„ç†</li>
<li>Filteræ˜¯GOFä¸­è´£ä»»é“¾æ¨¡å¼çš„å…¸å‹æ¡ˆä¾‹</li>
<li>Filterçš„å¸¸ç”¨åº”ç”¨åŒ…æ‹¬ä½†ä¸é™äº: ç™»å½•æƒé™æ£€æŸ¥,è§£å†³ç½‘ç«™ä¹±ç ,è¿‡æ»¤æ•æ„Ÿå­—ç¬¦,æ—¥å¿—è®°å½•,æ€§èƒ½åˆ†æâ€¦ â€¦</li>
</ul>
<blockquote>
<p>ç”Ÿæ´»ä¸¾ä¾‹: å…¬å¸å‰å°,åœè½¦åœºå®‰ä¿,åœ°é“éªŒç¥¨é—¸æœº</p>
</blockquote>
<ul>
<li>å…¬å¸å‰å°å¯¹æ¥è®¿äººå‘˜è¿›è¡Œå®¡æ ¸,å¦‚æœæ˜¯æ¸¸å®¢åˆ™æ‹’ç»è¿›å…¥å…¬å¸,å¦‚æœæ˜¯å®¢æˆ·åˆ™æ”¾è¡Œ . å®¢æˆ·ç¦»å¼€æ—¶æé†’å®¢æˆ·ä¸è¦é—å¿˜ç‰©å“</li>
<li>åœè½¦åœºä¿å®‰å¯¹æ¥è®¿è½¦è¾†è¿›è¡Œæ§åˆ¶,å¦‚æœæ²¡æœ‰è½¦ä½æ‹’ç»è¿›å…¥,å¦‚æœæœ‰è½¦ä½,å‘æ”¾åœè½¦å¡å¹¶æ”¾è¡Œ,è½¦è¾†ç¦»å¼€æ—¶æ”¶å–è¯·è½¦è´¹</li>
<li>åœ°é“éªŒç¥¨é—¸æœºåœ¨äººå‘˜è¿›å…¥ä¹‹å‰æ£€æŸ¥ç¥¨,æ²¡ç¥¨æ‹’ç»è¿›å…¥,æœ‰ç¥¨éªŒç¥¨åæ”¾è¡Œ,äººå‘˜ç¦»å¼€æ—¶åŒæ ·éªŒç¥¨</li>
</ul>
<blockquote>
<p>è¿‡æ»¤å™¨å¼€å‘ä¸­åº”ç”¨çš„åœºæ™¯</p>
</blockquote>
<ul>
<li>æ—¥å¿—çš„è®°å½•</li>
<li>æ€§èƒ½çš„åˆ†æ</li>
<li>ä¹±ç çš„å¤„ç†</li>
<li>äº‹åŠ¡çš„æ§åˆ¶</li>
<li>ç™»å½•çš„æ§åˆ¶</li>
<li>è·¨åŸŸçš„å¤„ç†</li>
<li>â€¦ â€¦</li>
</ul>
<blockquote>
<p>è¿‡æ»¤å™¨å·¥ä½œä½ç½®å›¾è§£</p>
</blockquote>
<p><img src="/images/1682494494396.png" alt="1682494494396"></p>
<blockquote>
<p>Filteræ¥å£API</p>
</blockquote>
<ul>
<li>æºç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> jakarta.servlet;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span></span><br><span class="line">            <span class="keyword">throws</span> IOException, ServletException;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>APIç›®æ ‡</li>
</ul>
<table>
<thead>
<tr>
<th>API</th>
<th>ç›®æ ‡</th>
</tr>
</thead>
<tbody><tr>
<td>default public void init(FilterConfig filterConfig)</td>
<td>åˆå§‹åŒ–æ–¹æ³•,ç”±å®¹å™¨è°ƒç”¨å¹¶ä¼ å…¥åˆå§‹é…ç½®ä¿¡æ¯filterConfigå¯¹è±¡</td>
</tr>
<tr>
<td>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)</td>
<td>è¿‡æ»¤æ–¹æ³•,æ ¸å¿ƒæ–¹æ³•,è¿‡æ»¤è¯·æ±‚,å†³å®šæ˜¯å¦æ”¾è¡Œ,å“åº”ä¹‹å‰çš„å…¶ä»–å¤„ç†ç­‰éƒ½åœ¨è¯¥æ–¹æ³•ä¸­</td>
</tr>
<tr>
<td>default public void destroy()</td>
<td>é”€æ¯æ–¹æ³•,å®¹å™¨åœ¨å›æ”¶è¿‡æ»¤å™¨å¯¹è±¡ä¹‹å‰è°ƒç”¨çš„æ–¹æ³•</td>
</tr>
</tbody></table>
<h2 id="2-2-è¿‡æ»¤å™¨ä½¿ç”¨"><a href="#2-2-è¿‡æ»¤å™¨ä½¿ç”¨" class="headerlink" title="2.2 è¿‡æ»¤å™¨ä½¿ç”¨"></a>2.2 è¿‡æ»¤å™¨ä½¿ç”¨</h2><blockquote>
<p>ç›®æ ‡:å¼€å‘ä¸€ä¸ªæ—¥å¿—è®°å½•è¿‡æ»¤å™¨</p>
</blockquote>
<ul>
<li>ç”¨æˆ·è¯·æ±‚åˆ°è¾¾ç›®æ ‡èµ„æºä¹‹å‰,è®°å½•ç”¨æˆ·çš„è¯·æ±‚èµ„æºè·¯å¾„</li>
<li>å“åº”ä¹‹å‰è®°å½•æœ¬æ¬¡è¯·æ±‚ç›®æ ‡èµ„æºè¿ç®—çš„è€—æ—¶</li>
<li>å¯ä»¥é€‰æ‹©å°†æ—¥å¿—è®°å½•è¿›å…¥æ–‡ä»¶,ä¸ºäº†æ–¹ä¾¿æµ‹è¯•,è¿™é‡Œå°†æ—¥å¿—ç›´æ¥åœ¨æ§åˆ¶å°æ‰“å°</li>
</ul>
<blockquote>
<p> å®šä¹‰ä¸€ä¸ªè¿‡æ»¤å™¨ç±»,ç¼–å†™åŠŸèƒ½ä»£ç </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.filters;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.*;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebFilter;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoggingFilter</span>  <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">SimpleDateFormat</span> <span class="variable">dateFormat</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="comment">// å‚æ•°çˆ¶è½¬å­</span></span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span>(HttpServletRequest)  servletRequest;</span><br><span class="line">        <span class="type">HttpServletResponse</span>  <span class="variable">response</span> <span class="operator">=</span>(HttpServletResponse)  servletResponse;</span><br><span class="line">        <span class="comment">// æ‹¼æ¥æ—¥å¿—æ–‡æœ¬</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> request.getRequestURI();</span><br><span class="line">        <span class="type">String</span> <span class="variable">time</span> <span class="operator">=</span> dateFormat.format(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="type">String</span> <span class="variable">beforeLogging</span> <span class="operator">=</span>requestURI+<span class="string">&quot;åœ¨&quot;</span>+time+<span class="string">&quot;è¢«è¯·æ±‚äº†&quot;</span>;</span><br><span class="line">        <span class="comment">// æ‰“å°æ—¥å¿—</span></span><br><span class="line">        System.out.println(beforeLogging);</span><br><span class="line">        <span class="comment">// è·å–ç³»ç»Ÿæ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">t1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">// æ”¾è¡Œè¯·æ±‚</span></span><br><span class="line">        filterChain.doFilter(request,response);</span><br><span class="line">        <span class="comment">// è·å–ç³»ç»Ÿæ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">t2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">//  æ‹¼æ¥æ—¥å¿—æ–‡æœ¬</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">afterLogging</span> <span class="operator">=</span>requestURI+<span class="string">&quot;åœ¨&quot;</span>+time+<span class="string">&quot;çš„è¯·æ±‚è€—æ—¶:&quot;</span>+(t2-t1)+<span class="string">&quot;æ¯«ç§’&quot;</span>;</span><br><span class="line">        <span class="comment">// æ‰“å°æ—¥å¿—</span></span><br><span class="line">        System.out.println(afterLogging);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>è¯´æ˜<ul>
<li>doFilteræ–¹æ³•ä¸­çš„è¯·æ±‚å’Œå“åº”å¯¹è±¡æ˜¯ä»¥çˆ¶æ¥å£çš„å½¢å¼å£°æ˜çš„,å®é™…ä¼ å…¥çš„å®å‚å°±æ˜¯HttpServletRequestå’ŒHttpServletResponseå­æ¥å£çº§åˆ«çš„,å¯ä»¥å®‰å…¨å¼ºè½¬</li>
<li>filterChain.doFilter(request,response); è¿™è¡Œä»£ç çš„åŠŸèƒ½æ˜¯æ”¾è¡Œè¯·æ±‚,å¦‚æœæ²¡æœ‰è¿™ä¸€è¡Œä»£ç ,åˆ™è¯·æ±‚åˆ°æ­¤ä¸ºæ­¢</li>
<li>filterChain.doFilter(request,response);åœ¨æ”¾è¡Œæ—¶éœ€è¦ä¼ å…¥requestå’Œresponse,æ„å‘³ç€è¯·æ±‚å’Œå“åº”å¯¹è±¡è¦ç»§ç»­ä¼ é€’ç»™åç»­çš„èµ„æº,è¿™é‡Œæ²¡æœ‰äº§ç”Ÿæ–°çš„requestå’Œresponseå¯¹è±¡</li>
</ul>
</li>
</ul>
<blockquote>
<p>å®šä¹‰ä¸¤ä¸ªServletä½œä¸ºç›®æ ‡èµ„æº</p>
</blockquote>
<ul>
<li>ServletA</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletA&quot;,name = &quot;servletAName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å¤„ç†å™¨è¯·æ±‚</span></span><br><span class="line">        System.out.println(<span class="string">&quot;servletAå¤„ç†è¯·æ±‚çš„æ–¹æ³•,è€—æ—¶10æ¯«ç§’&quot;</span>);</span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿå¤„ç†è¯·æ±‚è€—æ—¶</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">10</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ServletB</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletB&quot;, name = &quot;servletBName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å¤„ç†å™¨è¯·æ±‚</span></span><br><span class="line">        System.out.println(<span class="string">&quot;servletBå¤„ç†è¯·æ±‚çš„æ–¹æ³•,è€—æ—¶15æ¯«ç§’&quot;</span>);</span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿå¤„ç†è¯·æ±‚è€—æ—¶</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">15</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>é…ç½®è¿‡æ»¤å™¨ä»¥åŠè¿‡æ»¤å™¨çš„è¿‡æ»¤èŒƒå›´</p>
</blockquote>
<ul>
<li>web.xml</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;https://jakarta.ee/xml/ns/jakartaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;5.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®filter,å¹¶ä¸ºfilterèµ·åˆ«å--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>loggingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.atguigu.filters.LoggingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä¸ºåˆ«åå¯¹åº”çš„filteré…ç½®è¦è¿‡æ»¤çš„ç›®æ ‡èµ„æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>loggingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é€šè¿‡æ˜ å°„è·¯å¾„ç¡®å®šè¿‡æ»¤èµ„æº--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servletA<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é€šè¿‡åç¼€åç¡®å®šè¿‡æ»¤èµ„æº--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.html<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é€šè¿‡servletåˆ«åç¡®å®šè¿‡æ»¤èµ„æº--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>servletBName<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>è¯´æ˜</p>
<ul>
<li>filter-mappingæ ‡ç­¾ä¸­å®šä¹‰äº†è¿‡æ»¤å™¨å¯¹é‚£äº›èµ„æºè¿›è¡Œè¿‡æ»¤</li>
<li>å­æ ‡ç­¾url-patterné€šè¿‡æ˜ å°„è·¯å¾„ç¡®å®šè¿‡æ»¤èŒƒå›´<ul>
<li>&#x2F;servletA  ç²¾ç¡®åŒ¹é…,è¡¨ç¤ºå¯¹servletAèµ„æºçš„è¯·æ±‚è¿›è¡Œè¿‡æ»¤</li>
<li>*.html è¡¨ç¤ºå¯¹ä»¥.actionç»“å°¾çš„è·¯å¾„è¿›è¡Œè¿‡æ»¤</li>
<li>&#x2F;* è¡¨ç¤ºå¯¹æ‰€æœ‰èµ„æºè¿›è¡Œè¿‡æ»¤</li>
<li>ä¸€ä¸ªfilter-mappingä¸‹å¯ä»¥é…ç½®å¤šä¸ªurl-pattern</li>
</ul>
</li>
<li>å­æ ‡ç­¾servlet-nameé€šè¿‡servletåˆ«åç¡®å®šå¯¹é‚£äº›servletè¿›è¡Œè¿‡æ»¤<ul>
<li>ä½¿ç”¨è¯¥æ ‡ç­¾ç¡®å®šç›®æ ‡èµ„æºçš„å‰ææ˜¯servletå·²ç»èµ·äº†åˆ«å</li>
<li>ä¸€ä¸ªfilter-mappingä¸‹å¯ä»¥å®šä¹‰å¤šä¸ªservlet-name</li>
<li>ä¸€ä¸ªfilter-mappingä¸‹,servlet-nameå’Œurl-patternå­æ ‡ç­¾å¯ä»¥åŒæ—¶å­˜åœ¨</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>è¿‡æ»¤è¿‡ç¨‹å›¾è§£</p>
</blockquote>
<p><img src="/images/1682496991032.png" alt="1682496991032"></p>
<h2 id="2-3-è¿‡æ»¤å™¨ç”Ÿå‘½å‘¨æœŸ"><a href="#2-3-è¿‡æ»¤å™¨ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="2.3 è¿‡æ»¤å™¨ç”Ÿå‘½å‘¨æœŸ"></a>2.3 è¿‡æ»¤å™¨ç”Ÿå‘½å‘¨æœŸ</h2><blockquote>
<p>è¿‡æ»¤å™¨ä½œä¸ºwebé¡¹ç›®çš„ç»„ä»¶ä¹‹ä¸€,å’ŒServletçš„ç”Ÿå‘½å‘¨æœŸç±»ä¼¼,ç•¥æœ‰ä¸åŒ,æ²¡æœ‰servletçš„load-on-startupçš„é…ç½®,é»˜è®¤å°±æ˜¯ç³»ç»Ÿå¯åŠ¨ç«‹åˆ»æ„é€ </p>
</blockquote>
<table>
<thead>
<tr>
<th>é˜¶æ®µ</th>
<th>å¯¹åº”æ–¹æ³•</th>
<th>æ‰§è¡Œæ—¶æœº</th>
<th>æ‰§è¡Œæ¬¡æ•°</th>
</tr>
</thead>
<tbody><tr>
<td>åˆ›å»ºå¯¹è±¡</td>
<td>æ„é€ å™¨</td>
<td>webåº”ç”¨å¯åŠ¨æ—¶</td>
<td>1</td>
</tr>
<tr>
<td>åˆå§‹åŒ–æ–¹æ³•</td>
<td>void init(FilterConfig filterConfig)</td>
<td>æ„é€ å®Œæ¯•</td>
<td>1</td>
</tr>
<tr>
<td>è¿‡æ»¤è¯·æ±‚</td>
<td>void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</td>
<td>æ¯æ¬¡è¯·æ±‚</td>
<td>å¤šæ¬¡</td>
</tr>
<tr>
<td>é”€æ¯</td>
<td>default void destroy()</td>
<td>webåº”ç”¨å…³é—­æ—¶</td>
<td>1æ¬¡</td>
</tr>
</tbody></table>
<blockquote>
<p>æµ‹è¯•ä»£ç </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.filters;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.*;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet(&quot;/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LifeCycleFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LifeCycleFilter</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;LifeCycleFilter constructor method invoked&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;LifeCycleFilter init method invoked&quot;</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;LifeCycleFilter doFilter method invoked&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;LifeCycleFilter destory method invoked&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="2-4-è¿‡æ»¤å™¨é“¾çš„ä½¿ç”¨"><a href="#2-4-è¿‡æ»¤å™¨é“¾çš„ä½¿ç”¨" class="headerlink" title="2.4 è¿‡æ»¤å™¨é“¾çš„ä½¿ç”¨"></a>2.4 è¿‡æ»¤å™¨é“¾çš„ä½¿ç”¨</h2><blockquote>
<p>ä¸€ä¸ªwebé¡¹ç›®ä¸­,å¯ä»¥åŒæ—¶å®šä¹‰å¤šä¸ªè¿‡æ»¤å™¨,å¤šä¸ªè¿‡æ»¤å™¨å¯¹åŒä¸€ä¸ªèµ„æºè¿›è¡Œè¿‡æ»¤æ—¶,å·¥ä½œä½ç½®æœ‰å…ˆå,æ•´ä½“å½¢æˆä¸€ä¸ªå·¥ä½œé“¾,ç§°ä¹‹ä¸ºè¿‡æ»¤å™¨é“¾</p>
</blockquote>
<ul>
<li>è¿‡æ»¤å™¨é“¾ä¸­çš„è¿‡æ»¤å™¨çš„é¡ºåºç”±filter-mappingé¡ºåºå†³å®š</li>
<li>æ¯ä¸ªè¿‡æ»¤å™¨è¿‡æ»¤çš„èŒƒå›´ä¸åŒ,é’ˆå¯¹åŒä¸€ä¸ªèµ„æºæ¥è¯´,è¿‡æ»¤å™¨é“¾ä¸­çš„è¿‡æ»¤å™¨ä¸ªæ•°å¯èƒ½æ˜¯ä¸åŒçš„</li>
<li>å¦‚æœæŸä¸ªFilteræ˜¯ä½¿ç”¨ServletNameè¿›è¡ŒåŒ¹é…è§„åˆ™çš„é…ç½®ï¼Œé‚£ä¹ˆè¿™ä¸ªFilteræ‰§è¡Œçš„ä¼˜å…ˆçº§è¦æ›´ä½</li>
</ul>
<blockquote>
<p>å›¾è§£è¿‡æ»¤å™¨é“¾</p>
</blockquote>
<p><img src="/images/1682556566084.png" alt="1682556566084"></p>
<blockquote>
<p>è¿‡æ»¤å™¨é“¾åŠŸèƒ½æµ‹è¯•</p>
</blockquote>
<ul>
<li><p>å®šä¹‰ä¸‰ä¸ªè¿‡æ»¤å™¨,å¯¹ç›®æ ‡èµ„æºServletçš„è¯·æ±‚è¿›è¡Œè¿‡æ»¤</p>
</li>
<li><p>ç›®æ ‡Servletèµ„æºä»£ç </p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servletC&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletC</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;servletC service method  invoked&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ul>
<li>ä¸‰ä¸ªè¿‡æ»¤å™¨ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Filter1</span>  <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;filter1 before chain.doFilter code invoked&quot;</span>);</span><br><span class="line"></span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;filter1 after  chain.doFilter code invoked&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Filter2</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;filter2 before chain.doFilter code invoked&quot;</span>);</span><br><span class="line"></span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;filter2 after  chain.doFilter code invoked&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Filter3</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;filter3 before chain.doFilter code invoked&quot;</span>);</span><br><span class="line"></span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;filter3 after  chain.doFilter code invoked&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿‡æ»¤å™¨é…ç½®ä»£ç </li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;https://jakarta.ee/xml/ns/jakartaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;5.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.atguigu.filters.Filter1<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.atguigu.filters.Filter2<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter3<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.atguigu.filters.Filter3<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--filter-mappingçš„é¡ºåºå†³å®šäº†è¿‡æ»¤å™¨çš„å·¥ä½œé¡ºåº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servletC<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servletC<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter3<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servletC<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>å·¥ä½œæµç¨‹å›¾è§£</p>
</blockquote>
<p><img src="/images/1682497251883.png" alt="1682497251883"></p>
<h2 id="2-5-æ³¨è§£æ–¹å¼é…ç½®è¿‡æ»¤å™¨"><a href="#2-5-æ³¨è§£æ–¹å¼é…ç½®è¿‡æ»¤å™¨" class="headerlink" title="2.5 æ³¨è§£æ–¹å¼é…ç½®è¿‡æ»¤å™¨"></a>2.5 æ³¨è§£æ–¹å¼é…ç½®è¿‡æ»¤å™¨</h2><blockquote>
<p>@WebFilteræ³¨è§£çš„ä½¿ç”¨</p>
</blockquote>
<ul>
<li>æºç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> jakarta.servlet.annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.DispatcherType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Documented;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> WebFilter &#123;</span><br><span class="line">    String <span class="title function_">description</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    String <span class="title function_">displayName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    WebInitParam[] initParams() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    String <span class="title function_">filterName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    String <span class="title function_">smallIcon</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    String <span class="title function_">largeIcon</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    String[] servletNames() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    String[] value() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    String[] urlPatterns() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    DispatcherType[] dispatcherTypes() <span class="keyword">default</span> &#123;DispatcherType.REQUEST&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">asyncSupported</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„Filterçš„XMLé…ç½®</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®filter,å¹¶ä¸ºfilterèµ·åˆ«å--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>loggingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.atguigu.filters.LoggingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®filterçš„åˆå§‹å‚æ•°--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>dateTimePattern<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>yyyy-MM-dd HH:mm:ss<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ä¸ºåˆ«åå¯¹åº”çš„filteré…ç½®è¦è¿‡æ»¤çš„ç›®æ ‡èµ„æº--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>loggingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é€šè¿‡æ˜ å°„è·¯å¾„ç¡®å®šè¿‡æ»¤èµ„æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servletA<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é€šè¿‡åç¼€åç¡®å®šè¿‡æ»¤èµ„æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.html<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é€šè¿‡servletåˆ«åç¡®å®šè¿‡æ»¤èµ„æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>servletBName<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å°†xmlé…ç½®è½¬æ¢æˆæ³¨è§£æ–¹å¼å®ç°</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.filters;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.*;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebFilter;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebInitParam;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@WebFilter(</span></span><br><span class="line"><span class="meta">        filterName = &quot;loggingFilter&quot;,</span></span><br><span class="line"><span class="meta">        initParams = &#123;@WebInitParam(name=&quot;dateTimePattern&quot;,value=&quot;yyyy-MM-dd HH:mm:ss&quot;)&#125;,</span></span><br><span class="line"><span class="meta">        urlPatterns = &#123;&quot;/servletA&quot;,&quot;*.html&quot;&#125;,</span></span><br><span class="line"><span class="meta">        servletNames = &#123;&quot;servletBName&quot;&#125;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoggingFilter</span>  <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SimpleDateFormat dateFormat ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*initåˆå§‹åŒ–æ–¹æ³•,é€šè¿‡filterConfigè·å–åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line"><span class="comment">    * initæ–¹æ³•ä¸­,å¯ä»¥ç”¨äºå®šä¹‰ä¸€äº›å…¶ä»–åˆå§‹åŒ–åŠŸèƒ½ä»£ç </span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="comment">// è·å–åˆå§‹å‚æ•°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">dateTimePattern</span> <span class="operator">=</span> filterConfig.getInitParameter(<span class="string">&quot;dateTimePattern&quot;</span>);</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–æˆå‘˜å˜é‡</span></span><br><span class="line">        dateFormat=<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(dateTimePattern);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="comment">// å‚æ•°çˆ¶è½¬å­</span></span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span>(HttpServletRequest)  servletRequest;</span><br><span class="line">        <span class="type">HttpServletResponse</span>  <span class="variable">response</span> <span class="operator">=</span>(HttpServletResponse)  servletResponse;</span><br><span class="line">        <span class="comment">// æ‹¼æ¥æ—¥å¿—æ–‡æœ¬</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> request.getRequestURI();</span><br><span class="line">        <span class="type">String</span> <span class="variable">time</span> <span class="operator">=</span> dateFormat.format(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="type">String</span> <span class="variable">beforeLogging</span> <span class="operator">=</span>requestURI+<span class="string">&quot;åœ¨&quot;</span>+time+<span class="string">&quot;è¢«è¯·æ±‚äº†&quot;</span>;</span><br><span class="line">        <span class="comment">// æ‰“å°æ—¥å¿—</span></span><br><span class="line">        System.out.println(beforeLogging);</span><br><span class="line">        <span class="comment">// è·å–ç³»ç»Ÿæ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">t1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">// æ”¾è¡Œè¯·æ±‚</span></span><br><span class="line">        filterChain.doFilter(request,response);</span><br><span class="line">        <span class="comment">// è·å–ç³»ç»Ÿæ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">t2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">String</span> <span class="variable">afterLogging</span> <span class="operator">=</span>requestURI+<span class="string">&quot;åœ¨&quot;</span>+time+<span class="string">&quot;çš„è¯·æ±‚è€—æ—¶:&quot;</span>+(t2-t1)+<span class="string">&quot;æ¯«ç§’&quot;</span>;</span><br><span class="line">        <span class="comment">// æ‰“å°æ—¥å¿—</span></span><br><span class="line">        System.out.println(afterLogging);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="ä¸‰-ç›‘å¬å™¨"><a href="#ä¸‰-ç›‘å¬å™¨" class="headerlink" title="ä¸‰ ç›‘å¬å™¨"></a>ä¸‰ ç›‘å¬å™¨</h1><h2 id="3-1-ç›‘å¬å™¨æ¦‚è¿°"><a href="#3-1-ç›‘å¬å™¨æ¦‚è¿°" class="headerlink" title="3.1 ç›‘å¬å™¨æ¦‚è¿°"></a>3.1 ç›‘å¬å™¨æ¦‚è¿°</h2><blockquote>
<p>ç›‘å¬å™¨ï¼šä¸“é—¨ç”¨äºå¯¹åŸŸå¯¹è±¡å¯¹è±¡èº«ä¸Šå‘ç”Ÿçš„äº‹ä»¶æˆ–çŠ¶æ€æ”¹å˜è¿›è¡Œç›‘å¬å’Œç›¸åº”å¤„ç†çš„å¯¹è±¡</p>
</blockquote>
<ul>
<li><p>ç›‘å¬å™¨æ˜¯GOFè®¾è®¡æ¨¡å¼ä¸­,è§‚å¯Ÿè€…æ¨¡å¼çš„å…¸å‹æ¡ˆä¾‹</p>
</li>
<li><p>è§‚å¯Ÿè€…æ¨¡å¼: å½“è¢«è§‚å¯Ÿçš„å¯¹è±¡å‘ç”ŸæŸäº›æ”¹å˜æ—¶, è§‚å¯Ÿè€…è‡ªåŠ¨é‡‡å–å¯¹åº”çš„è¡ŒåŠ¨çš„ä¸€ç§è®¾è®¡æ¨¡å¼</p>
</li>
<li><p>ç›‘å¬å™¨ä½¿ç”¨çš„æ„Ÿå—ç±»ä¼¼JSä¸­çš„äº‹ä»¶,è¢«è§‚å¯Ÿçš„å¯¹è±¡å‘ç”ŸæŸäº›æƒ…å†µæ—¶,è‡ªåŠ¨è§¦å‘ä»£ç çš„æ‰§è¡Œ</p>
</li>
<li><p>ç›‘å¬å™¨å¹¶ä¸ç›‘å¬webé¡¹ç›®ä¸­çš„æ‰€æœ‰ç»„ä»¶,ä»…ä»…æ˜¯å¯¹ä¸‰å¤§åŸŸå¯¹è±¡åšç›¸å…³çš„äº‹ä»¶ç›‘å¬</p>
</li>
</ul>
<blockquote>
<p>ç›‘å¬å™¨çš„åˆ†ç±»</p>
</blockquote>
<ul>
<li><p>webä¸­å®šä¹‰å…«ä¸ªç›‘å¬å™¨æ¥å£ä½œä¸ºç›‘å¬å™¨çš„è§„èŒƒ,è¿™å…«ä¸ªæ¥å£æŒ‰ç…§ä¸åŒçš„æ ‡å‡†å¯ä»¥å½¢æˆä¸åŒçš„åˆ†ç±»</p>
</li>
<li><p>æŒ‰ç›‘å¬çš„å¯¹è±¡åˆ’åˆ†</p>
<ul>
<li>applicationåŸŸç›‘å¬å™¨ ServletContextListener  ServletContextAttributeListener </li>
<li>sessionåŸŸç›‘å¬å™¨ HttpSessionListener  HttpSessionAttributeListener  HttpSessionBindingListener  HttpSessionActivationListener  </li>
<li>requeståŸŸç›‘å¬å™¨ ServletRequestListener  ServletRequestAttributeListener</li>
</ul>
</li>
<li><p>æŒ‰ç›‘å¬çš„äº‹ä»¶åˆ†</p>
<ul>
<li>åŸŸå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ç›‘å¬å™¨ ServletContextListener   HttpSessionListener   ServletRequestListener  </li>
<li>åŸŸå¯¹è±¡æ•°æ®å¢åˆ æ”¹äº‹ä»¶ç›‘å¬å™¨ ServletContextAttributeListener  HttpSessionAttributeListener   ServletRequestAttributeListener </li>
<li>å…¶ä»–ç›‘å¬å™¨  HttpSessionBindingListener  HttpSessionActivationListener</li>
</ul>
</li>
</ul>
<h2 id="3-2-ç›‘å¬å™¨çš„å…­ä¸ªä¸»è¦æ¥å£"><a href="#3-2-ç›‘å¬å™¨çš„å…­ä¸ªä¸»è¦æ¥å£" class="headerlink" title="3.2 ç›‘å¬å™¨çš„å…­ä¸ªä¸»è¦æ¥å£"></a>3.2 ç›‘å¬å™¨çš„å…­ä¸ªä¸»è¦æ¥å£</h2><h3 id="3-2-1-applicationåŸŸç›‘å¬å™¨"><a href="#3-2-1-applicationåŸŸç›‘å¬å™¨" class="headerlink" title="3.2.1 applicationåŸŸç›‘å¬å™¨"></a>3.2.1 applicationåŸŸç›‘å¬å™¨</h3><blockquote>
<p>ServletContextListener  ç›‘å¬ServletContextå¯¹è±¡çš„åˆ›å»ºä¸é”€æ¯</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>contextInitialized(ServletContextEvent sce)</td>
<td>ServletContextåˆ›å»ºæ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>contextDestroyed(ServletContextEvent sce)</td>
<td>ServletContexté”€æ¯æ—¶è°ƒç”¨</td>
</tr>
</tbody></table>
<ul>
<li>ServletContextEventå¯¹è±¡ä»£è¡¨ä»ServletContextå¯¹è±¡èº«ä¸Šæ•è·åˆ°çš„äº‹ä»¶ï¼Œé€šè¿‡è¿™ä¸ªäº‹ä»¶å¯¹è±¡æˆ‘ä»¬å¯ä»¥è·å–åˆ°ServletContextå¯¹è±¡ã€‚</li>
</ul>
<blockquote>
<p>ServletContextAttributeListener ç›‘å¬ServletContextä¸­å±æ€§çš„æ·»åŠ ã€ç§»é™¤å’Œä¿®æ”¹</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>attributeAdded(ServletContextAttributeEvent scab)</td>
<td>å‘ServletContextä¸­æ·»åŠ å±æ€§æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>attributeRemoved(ServletContextAttributeEvent scab)</td>
<td>ä»ServletContextä¸­ç§»é™¤å±æ€§æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>attributeReplaced(ServletContextAttributeEvent scab)</td>
<td>å½“ServletContextä¸­çš„å±æ€§è¢«ä¿®æ”¹æ—¶è°ƒç”¨</td>
</tr>
</tbody></table>
<ul>
<li>ServletContextAttributeEventå¯¹è±¡ä»£è¡¨å±æ€§å˜åŒ–äº‹ä»¶ï¼Œå®ƒåŒ…å«çš„æ–¹æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>getName()</td>
<td>è·å–ä¿®æ”¹æˆ–æ·»åŠ çš„å±æ€§å</td>
</tr>
<tr>
<td>getValue()</td>
<td>è·å–è¢«ä¿®æ”¹æˆ–æ·»åŠ çš„å±æ€§å€¼</td>
</tr>
<tr>
<td>getServletContext()</td>
<td>è·å–ServletContextå¯¹è±¡</td>
</tr>
</tbody></table>
<blockquote>
<p>æµ‹è¯•ä»£ç </p>
</blockquote>
<ul>
<li>å®šä¹‰ç›‘å¬å™¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.listeners;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.*;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebListener;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@WebListener</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ApplicationListener</span> <span class="keyword">implements</span> <span class="title class_">ServletContextListener</span> , ServletContextAttributeListener &#123;</span><br><span class="line">    <span class="comment">// ç›‘å¬åˆå§‹åŒ–</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">contextInitialized</span><span class="params">(ServletContextEvent sce)</span> &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> sce.getServletContext();</span><br><span class="line">        System.out.println(<span class="string">&quot;application&quot;</span>+application.hashCode()+<span class="string">&quot; initialized&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›‘å¬é”€æ¯</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">contextDestroyed</span><span class="params">(ServletContextEvent sce)</span> &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> sce.getServletContext();</span><br><span class="line">        System.out.println(<span class="string">&quot;application&quot;</span>+application.hashCode()+<span class="string">&quot; destroyed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘å¬æ•°æ®å¢åŠ </span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeAdded</span><span class="params">(ServletContextAttributeEvent scae)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> scae.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> scae.getValue();</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> scae.getServletContext();</span><br><span class="line">        System.out.println(<span class="string">&quot;application&quot;</span>+application.hashCode()+<span class="string">&quot; add:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘å¬æ•°æ®ç§»é™¤</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeRemoved</span><span class="params">(ServletContextAttributeEvent scae)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> scae.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> scae.getValue();</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> scae.getServletContext();</span><br><span class="line">        System.out.println(<span class="string">&quot;application&quot;</span>+application.hashCode()+<span class="string">&quot; remove:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›‘å¬æ•°æ®ä¿®æ”¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeReplaced</span><span class="params">(ServletContextAttributeEvent scae)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> scae.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> scae.getValue();</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> scae.getServletContext();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">newValue</span> <span class="operator">=</span> application.getAttribute(name);</span><br><span class="line">        System.out.println(<span class="string">&quot;application&quot;</span>+application.hashCode()+<span class="string">&quot; change:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value+<span class="string">&quot; to &quot;</span>+newValue);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>å®šä¹‰è§¦å‘ç›‘å¬å™¨çš„ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ServletAç”¨äºå‘applicationåŸŸä¸­æ”¾å…¥æ•°æ®</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletA&quot;,name = &quot;servletAName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å‘applicationåŸŸä¸­æ”¾å…¥æ•°æ®</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        application.setAttribute(<span class="string">&quot;k1&quot;</span>,<span class="string">&quot;v1&quot;</span>);</span><br><span class="line">        application.setAttribute(<span class="string">&quot;k2&quot;</span>,<span class="string">&quot;v2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ServletBç”¨äºå‘applicationåŸŸä¸­ä¿®æ”¹å’Œç§»é™¤æ•°æ®</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletB&quot;, name = &quot;servletBName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">appliation</span>  <span class="operator">=</span> getServletContext();</span><br><span class="line">        <span class="comment">//  ä¿®æ”¹applicationåŸŸä¸­çš„æ•°æ®</span></span><br><span class="line">        appliation.setAttribute(<span class="string">&quot;k1&quot;</span>,<span class="string">&quot;value1&quot;</span>);</span><br><span class="line">        <span class="comment">//  åˆ é™¤applicationåŸŸä¸­çš„æ•°æ®</span></span><br><span class="line">        appliation.removeAttribute(<span class="string">&quot;k2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-2-sessionåŸŸç›‘å¬å™¨"><a href="#3-2-2-sessionåŸŸç›‘å¬å™¨" class="headerlink" title="3.2.2 sessionåŸŸç›‘å¬å™¨"></a>3.2.2 sessionåŸŸç›‘å¬å™¨</h3><blockquote>
<p>HttpSessionListener  ç›‘å¬HttpSessionå¯¹è±¡çš„åˆ›å»ºä¸é”€æ¯</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>sessionCreated(HttpSessionEvent hse)</td>
<td>HttpSessionå¯¹è±¡åˆ›å»ºæ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>sessionDestroyed(HttpSessionEvent hse)</td>
<td>HttpSessionå¯¹è±¡é”€æ¯æ—¶è°ƒç”¨</td>
</tr>
</tbody></table>
<ul>
<li>HttpSessionEventå¯¹è±¡ä»£è¡¨ä»HttpSessionå¯¹è±¡èº«ä¸Šæ•è·åˆ°çš„äº‹ä»¶ï¼Œé€šè¿‡è¿™ä¸ªäº‹ä»¶å¯¹è±¡æˆ‘ä»¬å¯ä»¥è·å–åˆ°è§¦å‘äº‹ä»¶çš„HttpSessionå¯¹è±¡ã€‚</li>
</ul>
<blockquote>
<p>HttpSessionAttributeListener ç›‘å¬HttpSessionä¸­å±æ€§çš„æ·»åŠ ã€ç§»é™¤å’Œä¿®æ”¹</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>attributeAdded(HttpSessionBindingEvent se)</td>
<td>å‘HttpSessionä¸­æ·»åŠ å±æ€§æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>attributeRemoved(HttpSessionBindingEvent se)</td>
<td>ä»HttpSessionä¸­ç§»é™¤å±æ€§æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>attributeReplaced(HttpSessionBindingEvent se)</td>
<td>å½“HttpSessionä¸­çš„å±æ€§è¢«ä¿®æ”¹æ—¶è°ƒç”¨</td>
</tr>
</tbody></table>
<ul>
<li>HttpSessionBindingEventå¯¹è±¡ä»£è¡¨å±æ€§å˜åŒ–äº‹ä»¶ï¼Œå®ƒåŒ…å«çš„æ–¹æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>getName()</td>
<td>è·å–ä¿®æ”¹æˆ–æ·»åŠ çš„å±æ€§å</td>
</tr>
<tr>
<td>getValue()</td>
<td>è·å–è¢«ä¿®æ”¹æˆ–æ·»åŠ çš„å±æ€§å€¼</td>
</tr>
<tr>
<td>getSession()</td>
<td>è·å–è§¦å‘äº‹ä»¶çš„HttpSessionå¯¹è±¡</td>
</tr>
</tbody></table>
<blockquote>
<p>æµ‹è¯•ä»£ç </p>
</blockquote>
<ul>
<li>å®šä¹‰ç›‘å¬å™¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.listeners;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.*;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebListener;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.*;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@WebListener</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SessionListener</span> <span class="keyword">implements</span> <span class="title class_">HttpSessionListener</span>, HttpSessionAttributeListener &#123;</span><br><span class="line">    <span class="comment">// ç›‘å¬sessionåˆ›å»º</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> se.getSession();</span><br><span class="line">        System.out.println(<span class="string">&quot;session&quot;</span>+session.hashCode()+<span class="string">&quot; created&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘å¬sessioné”€æ¯</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> se.getSession();</span><br><span class="line">        System.out.println(<span class="string">&quot;session&quot;</span>+session.hashCode()+<span class="string">&quot; destroyed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›‘å¬æ•°æ®å¢åŠ </span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeAdded</span><span class="params">(HttpSessionBindingEvent se)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> se.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> se.getValue();</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> se.getSession();</span><br><span class="line">        System.out.println(<span class="string">&quot;session&quot;</span>+session.hashCode()+<span class="string">&quot; add:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›‘å¬æ•°æ®ç§»é™¤</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeRemoved</span><span class="params">(HttpSessionBindingEvent se)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> se.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> se.getValue();</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> se.getSession();</span><br><span class="line">        System.out.println(<span class="string">&quot;session&quot;</span>+session.hashCode()+<span class="string">&quot; remove:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›‘å¬æ•°æ®ä¿®æ”¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeReplaced</span><span class="params">(HttpSessionBindingEvent se)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> se.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> se.getValue();</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> se.getSession();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">newValue</span> <span class="operator">=</span> session.getAttribute(name);</span><br><span class="line">        System.out.println(<span class="string">&quot;session&quot;</span>+session.hashCode()+<span class="string">&quot; change:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value+<span class="string">&quot; to &quot;</span>+newValue);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å®šä¹‰è§¦å‘ç›‘å¬å™¨çš„ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// servletAç”¨äºåˆ›å»ºsessionå¹¶å‘sessionä¸­æ”¾æ•°æ®</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletA&quot;,name = &quot;servletAName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºsession,å¹¶å‘sessionä¸­æ”¾å…¥æ•°æ®</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line"></span><br><span class="line">        session.setAttribute(<span class="string">&quot;k1&quot;</span>,<span class="string">&quot;v1&quot;</span>);</span><br><span class="line">        session.setAttribute(<span class="string">&quot;k2&quot;</span>,<span class="string">&quot;v2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// servletBç”¨äºä¿®æ”¹åˆ é™¤sessionä¸­çš„æ•°æ®å¹¶æ‰‹åŠ¨è®©sessionä¸å¯ç”¨</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletB&quot;, name = &quot;servletBName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="comment">//  ä¿®æ”¹sessionåŸŸä¸­çš„æ•°æ®</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;k1&quot;</span>,<span class="string">&quot;value1&quot;</span>);</span><br><span class="line">        <span class="comment">//  åˆ é™¤sessionåŸŸä¸­çš„æ•°æ®</span></span><br><span class="line">        session.removeAttribute(<span class="string">&quot;k2&quot;</span>);</span><br><span class="line">        <span class="comment">// æ‰‹åŠ¨è®©sessionä¸å¯ç”¨</span></span><br><span class="line">        session.invalidate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-3-requeståŸŸç›‘å¬å™¨"><a href="#3-2-3-requeståŸŸç›‘å¬å™¨" class="headerlink" title="3.2.3 requeståŸŸç›‘å¬å™¨"></a>3.2.3 requeståŸŸç›‘å¬å™¨</h3><blockquote>
<p>ServletRequestListener ç›‘å¬ServletRequestå¯¹è±¡çš„åˆ›å»ºä¸é”€æ¯</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>requestInitialized(ServletRequestEvent sre)</td>
<td>ServletRequestå¯¹è±¡åˆ›å»ºæ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>requestDestroyed(ServletRequestEvent sre)</td>
<td>ServletRequestå¯¹è±¡é”€æ¯æ—¶è°ƒç”¨</td>
</tr>
</tbody></table>
<ul>
<li>ServletRequestEventå¯¹è±¡ä»£è¡¨ä»HttpServletRequestå¯¹è±¡èº«ä¸Šæ•è·åˆ°çš„äº‹ä»¶ï¼Œé€šè¿‡è¿™ä¸ªäº‹ä»¶å¯¹è±¡æˆ‘ä»¬å¯ä»¥è·å–åˆ°è§¦å‘äº‹ä»¶çš„HttpServletRequestå¯¹è±¡ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•å¯ä»¥è·å–åˆ°å½“å‰Webåº”ç”¨çš„ServletContextå¯¹è±¡ã€‚</li>
</ul>
<blockquote>
<p>ServletRequestAttributeListener ç›‘å¬ServletRequestä¸­å±æ€§çš„æ·»åŠ ã€ç§»é™¤å’Œä¿®æ”¹</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>attributeAdded(ServletRequestAttributeEvent srae)</td>
<td>å‘ServletRequestä¸­æ·»åŠ å±æ€§æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>attributeRemoved(ServletRequestAttributeEvent srae)</td>
<td>ä»ServletRequestä¸­ç§»é™¤å±æ€§æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>attributeReplaced(ServletRequestAttributeEvent srae)</td>
<td>å½“ServletRequestä¸­çš„å±æ€§è¢«ä¿®æ”¹æ—¶è°ƒç”¨</td>
</tr>
</tbody></table>
<ul>
<li>ServletRequestAttributeEventå¯¹è±¡ä»£è¡¨å±æ€§å˜åŒ–äº‹ä»¶ï¼Œå®ƒåŒ…å«çš„æ–¹æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>getName()</td>
<td>è·å–ä¿®æ”¹æˆ–æ·»åŠ çš„å±æ€§å</td>
</tr>
<tr>
<td>getValue()</td>
<td>è·å–è¢«ä¿®æ”¹æˆ–æ·»åŠ çš„å±æ€§å€¼</td>
</tr>
<tr>
<td>getServletRequest ()</td>
<td>è·å–è§¦å‘äº‹ä»¶çš„ServletRequestå¯¹è±¡</td>
</tr>
</tbody></table>
<ul>
<li>å®šä¹‰ç›‘å¬å™¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.listeners;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.*;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebListener;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@WebListener</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestListener</span> <span class="keyword">implements</span> <span class="title class_">ServletRequestListener</span> , ServletRequestAttributeListener &#123;</span><br><span class="line">    <span class="comment">// ç›‘å¬åˆå§‹åŒ–</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">requestInitialized</span><span class="params">(ServletRequestEvent sre)</span> &#123;</span><br><span class="line">        <span class="type">ServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> sre.getServletRequest();</span><br><span class="line">        System.out.println(<span class="string">&quot;request&quot;</span>+request.hashCode()+<span class="string">&quot; initialized&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘å¬é”€æ¯</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">requestDestroyed</span><span class="params">(ServletRequestEvent sre)</span> &#123;</span><br><span class="line">        <span class="type">ServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> sre.getServletRequest();</span><br><span class="line">        System.out.println(<span class="string">&quot;request&quot;</span>+request.hashCode()+<span class="string">&quot; destoryed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘å¬æ•°æ®å¢åŠ </span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeAdded</span><span class="params">(ServletRequestAttributeEvent srae)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> srae.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> srae.getValue();</span><br><span class="line">        <span class="type">ServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> srae.getServletRequest();</span><br><span class="line">        System.out.println(<span class="string">&quot;request&quot;</span>+request.hashCode()+<span class="string">&quot; add:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  ç›‘å¬æ•°æ®ç§»é™¤</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeRemoved</span><span class="params">(ServletRequestAttributeEvent srae)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> srae.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> srae.getValue();</span><br><span class="line">        <span class="type">ServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> srae.getServletRequest();</span><br><span class="line">        System.out.println(<span class="string">&quot;request&quot;</span>+request.hashCode()+<span class="string">&quot; remove:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›‘å¬æ•°æ®ä¿®æ”¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeReplaced</span><span class="params">(ServletRequestAttributeEvent srae)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> srae.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> srae.getValue();</span><br><span class="line">        <span class="type">ServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> srae.getServletRequest();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">newValue</span> <span class="operator">=</span> request.getAttribute(name);</span><br><span class="line">        System.out.println(<span class="string">&quot;request&quot;</span>+request.hashCode()+<span class="string">&quot; change:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value+<span class="string">&quot; to &quot;</span>+newValue);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å®šä¹‰è§¦å‘ç›‘å¬å™¨çš„ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  servletAå‘è¯·æ±‚åŸŸä¸­æ”¾æ•°æ®</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletA&quot;,name = &quot;servletAName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å‘requestä¸­å¢åŠ æ•°æ®</span></span><br><span class="line">        req.setAttribute(<span class="string">&quot;k1&quot;</span>,<span class="string">&quot;v1&quot;</span>);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;k2&quot;</span>,<span class="string">&quot;v2&quot;</span>);</span><br><span class="line">        <span class="comment">// è¯·æ±‚è½¬å‘</span></span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;servletB&quot;</span>).forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// servletBä¿®æ”¹åˆ é™¤åŸŸä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletB&quot;, name = &quot;servletBName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//  ä¿®æ”¹requeståŸŸä¸­çš„æ•°æ®</span></span><br><span class="line">        req.setAttribute(<span class="string">&quot;k1&quot;</span>,<span class="string">&quot;value1&quot;</span>);</span><br><span class="line">        <span class="comment">//  åˆ é™¤sessionåŸŸä¸­çš„æ•°æ®</span></span><br><span class="line">        req.removeAttribute(<span class="string">&quot;k2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-3-sessionåŸŸçš„ä¸¤ä¸ªç‰¹æ®Šç›‘å¬å™¨"><a href="#3-3-sessionåŸŸçš„ä¸¤ä¸ªç‰¹æ®Šç›‘å¬å™¨" class="headerlink" title="3.3 sessionåŸŸçš„ä¸¤ä¸ªç‰¹æ®Šç›‘å¬å™¨"></a>3.3 sessionåŸŸçš„ä¸¤ä¸ªç‰¹æ®Šç›‘å¬å™¨</h2><h3 id="3-3-3-sessionç»‘å®šç›‘å¬å™¨"><a href="#3-3-3-sessionç»‘å®šç›‘å¬å™¨" class="headerlink" title="3.3.3  sessionç»‘å®šç›‘å¬å™¨"></a>3.3.3  sessionç»‘å®šç›‘å¬å™¨</h3><blockquote>
<p>HttpSessionBindingListener ç›‘å¬å½“å‰ç›‘å¬å™¨å¯¹è±¡åœ¨SessionåŸŸä¸­çš„å¢åŠ ä¸ç§»é™¤</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>valueBound(HttpSessionBindingEvent event)</td>
<td>è¯¥ç±»çš„å®ä¾‹è¢«æ”¾åˆ°SessionåŸŸä¸­æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>valueUnbound(HttpSessionBindingEvent event)</td>
<td>è¯¥ç±»çš„å®ä¾‹ä»Sessionä¸­ç§»é™¤æ—¶è°ƒç”¨</td>
</tr>
</tbody></table>
<ul>
<li>HttpSessionBindingEventå¯¹è±¡ä»£è¡¨å±æ€§å˜åŒ–äº‹ä»¶ï¼Œå®ƒåŒ…å«çš„æ–¹æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>getName()</td>
<td>è·å–å½“å‰äº‹ä»¶æ¶‰åŠçš„å±æ€§å</td>
</tr>
<tr>
<td>getValue()</td>
<td>è·å–å½“å‰äº‹ä»¶æ¶‰åŠçš„å±æ€§å€¼</td>
</tr>
<tr>
<td>getSession()</td>
<td>è·å–è§¦å‘äº‹ä»¶çš„HttpSessionå¯¹è±¡</td>
</tr>
</tbody></table>
<blockquote>
<p>æµ‹è¯•ä»£ç </p>
</blockquote>
<ul>
<li>å®šä¹‰ç›‘å¬å™¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.listeners;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpSessionBindingEvent;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpSessionBindingListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySessionBindingListener</span>  <span class="keyword">implements</span> <span class="title class_">HttpSessionBindingListener</span> &#123;</span><br><span class="line">    <span class="comment">//  ç›‘å¬ç»‘å®š</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">valueBound</span><span class="params">(HttpSessionBindingEvent event)</span> &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> event.getSession();</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> event.getName();</span><br><span class="line">        System.out.println(<span class="string">&quot;MySessionBindingListener&quot;</span>+<span class="built_in">this</span>.hashCode()+<span class="string">&quot; binding into session&quot;</span>+session.hashCode()+<span class="string">&quot; with name &quot;</span>+name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘å¬è§£é™¤ç»‘å®š</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">valueUnbound</span><span class="params">(HttpSessionBindingEvent event)</span> &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> event.getSession();</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> event.getName();</span><br><span class="line">        System.out.println(<span class="string">&quot;MySessionBindingListener&quot;</span>+<span class="built_in">this</span>.hashCode()+<span class="string">&quot; unbond outof session&quot;</span>+session.hashCode()+<span class="string">&quot; with name &quot;</span>+name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å®šä¹‰è§¦å‘ç›‘å¬å™¨çš„ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletA&quot;,name = &quot;servletAName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="comment">// ç»‘å®šç›‘å¬å™¨</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;bindingListener&quot;</span>,<span class="keyword">new</span> <span class="title class_">MySessionBindingListener</span>());</span><br><span class="line">        <span class="comment">// è§£é™¤ç»‘å®šç›‘å¬å™¨</span></span><br><span class="line">        session.removeAttribute(<span class="string">&quot;bindingListener&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-4-é’åŒ–æ´»åŒ–ç›‘å¬å™¨"><a href="#3-3-4-é’åŒ–æ´»åŒ–ç›‘å¬å™¨" class="headerlink" title="3.3.4 é’åŒ–æ´»åŒ–ç›‘å¬å™¨"></a>3.3.4 é’åŒ–æ´»åŒ–ç›‘å¬å™¨</h3><blockquote>
<p>HttpSessionActivationListener  ç›‘å¬æŸä¸ªå¯¹è±¡åœ¨Sessionä¸­çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>sessionWillPassivate(HttpSessionEvent se)</td>
<td>è¯¥ç±»å®ä¾‹å’ŒSessionä¸€èµ·é’åŒ–åˆ°ç¡¬ç›˜æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>sessionDidActivate(HttpSessionEvent se)</td>
<td>è¯¥ç±»å®ä¾‹å’ŒSessionä¸€èµ·æ´»åŒ–åˆ°å†…å­˜æ—¶è°ƒç”¨</td>
</tr>
</tbody></table>
<ul>
<li>HttpSessionEventå¯¹è±¡ä»£è¡¨äº‹ä»¶å¯¹è±¡ï¼Œé€šè¿‡getSession()æ–¹æ³•è·å–äº‹ä»¶æ¶‰åŠçš„HttpSessionå¯¹è±¡ã€‚</li>
</ul>
<blockquote>
<p>ä»€ä¹ˆæ˜¯é’åŒ–æ´»åŒ–</p>
</blockquote>
<ul>
<li>sessionå¯¹è±¡åœ¨æœåŠ¡ç«¯æ˜¯ä»¥å¯¹è±¡çš„å½¢å¼å­˜å‚¨äºå†…å­˜çš„,sessionè¿‡å¤š,æœåŠ¡å™¨çš„å†…å­˜ä¹Ÿæ˜¯åƒä¸æ¶ˆçš„</li>
<li>è€Œä¸”ä¸€æ—¦æœåŠ¡å™¨å‘ç”Ÿé‡å¯,æ‰€æœ‰çš„sessionå¯¹è±¡éƒ½å°†è¢«æ¸…é™¤,ä¹Ÿå°±æ„å‘³ç€sessionä¸­å­˜å‚¨çš„ä¸åŒå®¢æˆ·ç«¯çš„ç™»å½•çŠ¶æ€ä¸¢å¤±</li>
<li>ä¸ºäº†åˆ†æ‘Šå†…å­˜ å‹åŠ›å¹¶ä¸”ä¸ºäº†ä¿è¯sessioné‡å¯ä¸ä¸¢å¤±,æˆ‘ä»¬å¯ä»¥è®¾ç½®å°†sessionè¿›è¡Œé’åŒ–å¤„ç†</li>
<li>åœ¨å…³é—­æœåŠ¡å™¨å‰æˆ–è€…åˆ°è¾¾äº†è®¾å®šæ—¶é—´æ—¶,å¯¹sessionè¿›è¡Œåºåˆ—åŒ–åˆ°ç£ç›˜,è¿™ç§æƒ…å†µå«åšsessionçš„é’åŒ–</li>
<li>åœ¨æœåŠ¡å™¨å¯åŠ¨åæˆ–è€…å†æ¬¡è·å–æŸä¸ªsessionæ—¶,å°†ç£ç›˜ä¸Šçš„sessionè¿›è¡Œååºåˆ—åŒ–åˆ°å†…å­˜,è¿™ç§æƒ…å†µå«åšsessionçš„æ´»åŒ–</li>
</ul>
<blockquote>
<p>å¦‚ä½•é…ç½®é’åŒ–æ´»åŒ–</p>
</blockquote>
<ul>
<li>åœ¨webç›®å½•ä¸‹,æ·»åŠ  META-INFä¸‹åˆ›å»ºContext.xml</li>
</ul>
<p><img src="/images/1682565824241.png" alt="1682565824241"></p>
<ul>
<li>æ–‡ä»¶ä¸­é…ç½®é’åŒ–</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Context</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Manager</span> <span class="attr">className</span>=<span class="string">&quot;org.apache.catalina.session.PersistentManager&quot;</span> <span class="attr">maxIdleSwap</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Store</span> <span class="attr">className</span>=<span class="string">&quot;org.apache.catalina.session.FileStore&quot;</span> <span class="attr">directory</span>=<span class="string">&quot;d:\mysession&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Store</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Manager</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Context</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è¯·æ±‚servletA,è·å¾—session,å¹¶å­˜å…¥æ•°æ®,ç„¶åé‡å¯æœåŠ¡å™¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletA&quot;,name = &quot;servletAName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="comment">// æ·»åŠ æ•°æ®</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;k1&quot;</span>,<span class="string">&quot;v1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¯·æ±‚servletBè·å–session,è·å–é‡å¯å‰å­˜å…¥çš„æ•°æ®</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletB&quot;, name = &quot;servletBName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">v1</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;k1&quot;</span>);</span><br><span class="line">        System.out.println(v1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦‚ä½•ç›‘å¬é’åŒ–æ´»åŒ–</p>
</blockquote>
<ul>
<li>å®šä¹‰ç›‘å¬å™¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.listeners;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpSessionActivationListener;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpSessionEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ActivationListener</span>  <span class="keyword">implements</span> <span class="title class_">HttpSessionActivationListener</span>, Serializable &#123;</span><br><span class="line">    <span class="comment">//  ç›‘å¬é’åŒ–</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionWillPassivate</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> se.getSession();</span><br><span class="line">        System.out.println(<span class="string">&quot;session with JSESSIONID &quot;</span>+ session.getId()+<span class="string">&quot; will passivate&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  ç›‘å¬æ´»åŒ–</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionDidActivate</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> se.getSession();</span><br><span class="line">        System.out.println(<span class="string">&quot;session with JSESSIONID &quot;</span>+ session.getId()+<span class="string">&quot; did activate&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>å®šä¹‰è§¦å‘ç›‘å¬å™¨çš„ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servletA&quot;,name = &quot;servletAName&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="comment">// æ·»åŠ æ•°æ®</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;k1&quot;</span>,<span class="string">&quot;v1&quot;</span>);</span><br><span class="line">        <span class="comment">// æ·»åŠ é’åŒ–æ´»åŒ–ç›‘å¬å™¨</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;activationListener&quot;</span>,<span class="keyword">new</span> <span class="title class_">ActivationListener</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="å››-æ¡ˆä¾‹å¼€å‘-æ—¥ç¨‹ç®¡ç†-ç¬¬ä¸‰æœŸ"><a href="#å››-æ¡ˆä¾‹å¼€å‘-æ—¥ç¨‹ç®¡ç†-ç¬¬ä¸‰æœŸ" class="headerlink" title="å›› æ¡ˆä¾‹å¼€å‘-æ—¥ç¨‹ç®¡ç†-ç¬¬ä¸‰æœŸ"></a>å›› æ¡ˆä¾‹å¼€å‘-æ—¥ç¨‹ç®¡ç†-ç¬¬ä¸‰æœŸ</h1><h2 id="4-1-è¿‡æ»¤å™¨æ§åˆ¶ç™»å½•æ ¡éªŒ"><a href="#4-1-è¿‡æ»¤å™¨æ§åˆ¶ç™»å½•æ ¡éªŒ" class="headerlink" title="4.1 è¿‡æ»¤å™¨æ§åˆ¶ç™»å½•æ ¡éªŒ"></a>4.1 è¿‡æ»¤å™¨æ§åˆ¶ç™»å½•æ ¡éªŒ</h2><blockquote>
<p>éœ€æ±‚è¯´æ˜:æœªç™»å½•çŠ¶æ€ä¸‹ä¸å…è®¸è®¿é—®showShedule.htmlå’ŒSysScheduleControllerç›¸å…³å¢åˆ æ”¹å¤„ç†,é‡å®šå‘åˆ°login.html,ç™»å½•æˆåŠŸåå¯ä»¥è‡ªç”±è®¿é—®</p>
</blockquote>
<ul>
<li>å¼€å‘ç™»å½•è¿‡æ»¤å™¨,å¯¹æŒ‡å®šèµ„æºçš„è¯·æ±‚è¿›è¡Œè¿‡æ»¤</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.filters;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.*;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebFilter;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebFilter(urlPatterns = &#123;&quot;/showSchedule.html&quot;,&quot;/schedule/*&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginFilter</span>  <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span>(HttpServletRequest) servletRequest;</span><br><span class="line">        <span class="type">HttpServletResponse</span> <span class="variable">response</span> <span class="operator">=</span>(HttpServletResponse) servletResponse;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">sysUser</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;sysUser&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span> != sysUser)&#123;</span><br><span class="line">            <span class="comment">// sessionä¸­å¦‚æœå­˜åœ¨ç™»å½•çš„ç”¨æˆ· ä»£è¡¨ç”¨æˆ·ç™»å½•è¿‡,åˆ™æ”¾è¡Œ</span></span><br><span class="line">            filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//ç”¨æˆ·æœªç™»å½•,é‡å®šå‘åˆ°ç™»å½•é¡µ</span></span><br><span class="line">            response.sendRedirect(<span class="string">&quot;/login.html&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>ä¿®æ”¹ç”¨æˆ·ç™»å½•è¯·æ±‚çš„loginæ–¹æ³•,ç™»å½•æˆåŠŸæ—¶,å°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥session</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * ç”¨æˆ·ç™»å½•çš„ä¸šåŠ¡æ¥å£</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> req</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> resp</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> ServletException</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">       <span class="comment">// æ¥æ”¶ç”¨æˆ·è¯·æ±‚å‚æ•°</span></span><br><span class="line">       <span class="comment">// è·å–è¦æ³¨å†Œçš„ç”¨æˆ·åå¯†ç </span></span><br><span class="line">       <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">       <span class="type">String</span> <span class="variable">userPwd</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;userPwd&quot;</span>);</span><br><span class="line">       <span class="comment">// è°ƒç”¨æœåŠ¡å±‚æ–¹æ³•,æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢æ•°æ®åº“ä¸­æ˜¯å¦æœ‰ä¸€ä¸ªç”¨æˆ·</span></span><br><span class="line">       <span class="type">SysUser</span> <span class="variable">loginUser</span> <span class="operator">=</span>userService.findByUsername(username);</span><br><span class="line">       <span class="keyword">if</span>(<span class="literal">null</span> == loginUser)&#123;</span><br><span class="line">           <span class="comment">// æ²¡æœ‰æ ¹æ®ç”¨æˆ·åæ‰¾åˆ°ç”¨æˆ·,è¯´æ˜ç”¨æˆ·åæœ‰è¯¯</span></span><br><span class="line">           resp.sendRedirect(<span class="string">&quot;/loginUsernameError.html&quot;</span>);</span><br><span class="line">       &#125;<span class="keyword">else</span> <span class="keyword">if</span>(! loginUser.getUserPwd().equals(MD5Util.encrypt(userPwd)))&#123;</span><br><span class="line">           <span class="comment">// ç”¨æˆ·å¯†ç æœ‰è¯¯,</span></span><br><span class="line">           resp.sendRedirect(<span class="string">&quot;/loginUserPwdError.html&quot;</span>);</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           <span class="comment">// ç™»å½•æˆåŠŸ,å°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥session</span></span><br><span class="line">           req.getSession().setAttribute(<span class="string">&quot;sysUser&quot;</span>,loginUser);</span><br><span class="line">           <span class="comment">// ç™»å½•æˆåŠŸ,é‡å®šå‘åˆ°æ—¥ç¨‹å±•ç¤ºé¡µ</span></span><br><span class="line">           resp.sendRedirect(<span class="string">&quot;/showSchedule.html&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>





<h1 id="äº”-Ajax"><a href="#äº”-Ajax" class="headerlink" title="äº” Ajax"></a>äº” Ajax</h1><h2 id="4-1-ä»€ä¹ˆæ˜¯ajax"><a href="#4-1-ä»€ä¹ˆæ˜¯ajax" class="headerlink" title="4.1 ä»€ä¹ˆæ˜¯ajax"></a>4.1 ä»€ä¹ˆæ˜¯ajax</h2><ul>
<li><p>AJAX &#x3D; Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ã€‚</p>
</li>
<li><p>AJAX ä¸æ˜¯æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ä½¿ç”¨ç°æœ‰æ ‡å‡†çš„æ–°æ–¹æ³•ã€‚</p>
</li>
<li><p>AJAX æœ€å¤§çš„ä¼˜ç‚¹æ˜¯åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®å¹¶æ›´æ–°éƒ¨åˆ†ç½‘é¡µå†…å®¹ã€‚</p>
</li>
<li><p>AJAX ä¸éœ€è¦ä»»ä½•æµè§ˆå™¨æ’ä»¶ï¼Œä½†éœ€è¦ç”¨æˆ·å…è®¸ JavaScript åœ¨æµè§ˆå™¨ä¸Šæ‰§è¡Œã€‚</p>
</li>
<li><p>XMLHttpRequest åªæ˜¯å®ç° Ajax çš„ä¸€ç§æ–¹å¼ã€‚</p>
</li>
</ul>
<p><strong>ajaxå·¥ä½œåŸç†ï¼š</strong></p>
<p><img src="/images/image_bjXPJoLb6a-1690508517199.png"></p>
<ul>
<li>ç®€å•æ¥è¯´,æˆ‘ä»¬ä¹‹å‰å‘çš„è¯·æ±‚é€šè¿‡ç±»ä¼¼  formè¡¨å•æ ‡ç­¾,aæ ‡ç­¾ è¿™ç§æ–¹å¼,ç°åœ¨é€šè¿‡ è¿è¡Œjsä»£ç åŠ¨æ€å†³å®šä»€ä¹ˆæ—¶å€™å‘é€ä»€ä¹ˆæ ·çš„è¯·æ±‚</li>
<li>é€šè¿‡è¿è¡ŒJSä»£ç å‘é€çš„è¯·æ±‚æµè§ˆå™¨å¯ä»¥ä¸ç”¨è·³è½¬é¡µé¢ ,æˆ‘ä»¬å¯ä»¥åœ¨JSä»£ç ä¸­å†³å®šæ˜¯å¦è¦è·³è½¬é¡µé¢</li>
<li>é€šè¿‡è¿è¡ŒJSä»£ç å‘é€çš„è¯·æ±‚,æ¥æ”¶åˆ°è¿”å›ç»“æœå,æˆ‘ä»¬å¯ä»¥å°†ç»“æœé€šè¿‡domç¼–ç¨‹æ¸²æŸ“åˆ°é¡µé¢çš„æŸäº›å…ƒç´ ä¸Š,å®ç°å±€éƒ¨æ›´æ–°</li>
</ul>
<h2 id="4-2-å¦‚ä½•å®ç°ajaxè¯·æ±‚"><a href="#4-2-å¦‚ä½•å®ç°ajaxè¯·æ±‚" class="headerlink" title="4.2 å¦‚ä½•å®ç°ajaxè¯·æ±‚"></a>4.2 å¦‚ä½•å®ç°ajaxè¯·æ±‚</h2><blockquote>
<p>åŸç”Ÿ<strong>javascriptæ–¹å¼è¿›è¡Œajax(äº†è§£):</strong></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">loadXMLDoc</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> xmlhttp=<span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// è®¾ç½®å›è°ƒå‡½æ•°å¤„ç†å“åº”ç»“æœ</span></span></span><br><span class="line"><span class="language-javascript">    xmlhttp.<span class="property">onreadystatechange</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (xmlhttp.<span class="property">readyState</span>==<span class="number">4</span> &amp;&amp; xmlhttp.<span class="property">status</span>==<span class="number">200</span>)</span></span><br><span class="line"><span class="language-javascript">      &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myDiv&quot;</span>).<span class="property">innerHTML</span>=xmlhttp.<span class="property">responseText</span>;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// è®¾ç½®è¯·æ±‚æ–¹å¼å’Œè¯·æ±‚çš„èµ„æºè·¯å¾„</span></span></span><br><span class="line"><span class="language-javascript">    xmlhttp.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;/try/ajax/ajax_info.txt&quot;</span>,<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// å‘é€è¯·æ±‚</span></span></span><br><span class="line"><span class="language-javascript">    xmlhttp.<span class="title function_">send</span>();</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br></pre></td></tr></table></figure>



<h1 id="å…­-æ¡ˆä¾‹å¼€å‘-æ—¥ç¨‹ç®¡ç†-ç¬¬å››æœŸ"><a href="#å…­-æ¡ˆä¾‹å¼€å‘-æ—¥ç¨‹ç®¡ç†-ç¬¬å››æœŸ" class="headerlink" title="å…­ æ¡ˆä¾‹å¼€å‘-æ—¥ç¨‹ç®¡ç†-ç¬¬å››æœŸ"></a>å…­ æ¡ˆä¾‹å¼€å‘-æ—¥ç¨‹ç®¡ç†-ç¬¬å››æœŸ</h1><h2 id="6-1-æ³¨å†Œæäº¤å‰æ ¡éªŒç”¨æˆ·åæ˜¯å¦å ç”¨åŠŸèƒ½"><a href="#6-1-æ³¨å†Œæäº¤å‰æ ¡éªŒç”¨æˆ·åæ˜¯å¦å ç”¨åŠŸèƒ½" class="headerlink" title="6.1 æ³¨å†Œæäº¤å‰æ ¡éªŒç”¨æˆ·åæ˜¯å¦å ç”¨åŠŸèƒ½"></a>6.1 æ³¨å†Œæäº¤å‰æ ¡éªŒç”¨æˆ·åæ˜¯å¦å ç”¨åŠŸèƒ½</h2><blockquote>
<p> å®¢æˆ·ç«¯ä»£ç ç¼–å†™å¤„ç†</p>
</blockquote>
<ul>
<li>regist.htmlé¡µé¢ä»£ç </li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.ht</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: cadetblue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-family</span>: å¹¼åœ†;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.tab</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">5px</span> solid cadetblue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0px</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-family</span>: å¹¼åœ†;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.ltr</span> <span class="selector-tag">td</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid  powderblue;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.ipt</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.btn1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">2px</span> solid powderblue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>:<span class="number">60px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: antiquewhite;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.msg</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: gold;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.buttonContainer</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// æ ¡éªŒç”¨æˆ·åçš„æ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">checkUsername</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å®šä¹‰æ­£åˆ™</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> usernameReg=<span class="regexp">/^[a-zA-Z0-9]&#123;5,10&#125;$/</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> username =<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;usernameInput&quot;</span>).<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> usernameMsgSpan =<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;usernameMsg&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(!usernameReg.<span class="title function_">test</span>(username))&#123;</span></span><br><span class="line"><span class="language-javascript">                usernameMsgSpan.<span class="property">innerText</span>=<span class="string">&quot;ä¸åˆæ³•&quot;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å‘é€ajaxè¯·æ±‚æ ¡éªŒç”¨æˆ·åæ˜¯å¦è¢«å ç”¨</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> request;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                request= <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                request= <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            request.<span class="property">onreadystatechange</span>= <span class="keyword">function</span> (<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// request.readyState == 4 ä»£è¡¨è¯·æ±‚ç»“æŸ,å·²ç»æ¥æ”¶åˆ°å“åº”ç»“æœ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// request.status== 200  è¡¨ç¤ºåç«¯å“åº”çŠ¶æ€ç æ˜¯200</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(request.<span class="property">readyState</span> == <span class="number">4</span>  &amp;&amp; request.<span class="property">status</span>== <span class="number">200</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// åç«¯çš„å“åº”çš„JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºå‰ç«¯çš„å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> response =<span class="title class_">JSON</span>.<span class="title function_">parse</span>(request.<span class="property">responseText</span>)</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(response)</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//  åˆ¤æ–­ä¸šåŠ¡ç æ˜¯å¦æ˜¯200</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (response.<span class="property">code</span> != <span class="number">200</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        usernameMsgSpan.<span class="property">innerText</span>=<span class="string">&quot;å·²å ç”¨&quot;</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// è®¾ç½®è¯·æ±‚æ–¹å¼,è¯·æ±‚èµ„æºè·¯å¾„,æ˜¯å¦ä¸ºå¼‚æ­¥è¯·æ±‚</span></span></span><br><span class="line"><span class="language-javascript">            request.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>,<span class="string">&#x27;/user/checkUsernameUsed?username=&#x27;</span>+username,<span class="literal">true</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å‘é€è¯·æ±‚</span></span></span><br><span class="line"><span class="language-javascript">            request.<span class="title function_">send</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å‰é¢æ ¡éªŒéƒ½é€šè¿‡</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// usernameMsgSpan.innerText=&quot;OK&quot;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// return true</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// æ ¡éªŒå¯†ç çš„æ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">checkUserPwd</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å®šä¹‰æ­£åˆ™</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> passwordReg=<span class="regexp">/^[0-9]&#123;6&#125;$/</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> userPwd =<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;userPwdInput&quot;</span>).<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> userPwdMsgSpan =<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;userPwdMsg&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(!passwordReg.<span class="title function_">test</span>(userPwd))&#123;</span></span><br><span class="line"><span class="language-javascript">                userPwdMsgSpan.<span class="property">innerText</span>=<span class="string">&quot;ä¸åˆæ³•&quot;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            userPwdMsgSpan.<span class="property">innerText</span>=<span class="string">&quot;OK&quot;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// æ ¡éªŒå¯†ç çš„æ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">checkReUserPwd</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å®šä¹‰æ­£åˆ™</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> passwordReg=<span class="regexp">/^[0-9]&#123;6&#125;$/</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> userPwd =<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;userPwdInput&quot;</span>).<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> reUserPwd =<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;reUserPwdInput&quot;</span>).<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> reUserPwdMsgSpan =<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;reUserPwdMsg&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(!passwordReg.<span class="title function_">test</span>(userPwd))&#123;</span></span><br><span class="line"><span class="language-javascript">                reUserPwdMsgSpan.<span class="property">innerText</span>=<span class="string">&quot;ä¸åˆæ³•&quot;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(userPwd != reUserPwd)&#123;</span></span><br><span class="line"><span class="language-javascript">                reUserPwdMsgSpan.<span class="property">innerText</span>=<span class="string">&quot;ä¸ä¸€è‡´&quot;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            reUserPwdMsgSpan.<span class="property">innerText</span>=<span class="string">&quot;OK&quot;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//è¡¨å•æäº¤æ—¶ç»Ÿä¸€æ ¡éªŒ</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">checkForm</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="title function_">checkUsername</span>() &amp;&amp; <span class="title function_">checkUserPwd</span>() &amp;&amp; <span class="title function_">checkReUserPwd</span>()</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;ht&quot;</span>&gt;</span>æ¬¢è¿ä½¿ç”¨æ—¥ç¨‹ç®¡ç†ç³»ç»Ÿ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;ht&quot;</span>&gt;</span>è¯·æ³¨å†Œ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;/user/regist&quot;</span> <span class="attr">onsubmit</span>=<span class="string">&quot;return checkForm()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;tab&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;ltr&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>è¯·è¾“å…¥è´¦å·<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;ipt&quot;</span> <span class="attr">id</span>=<span class="string">&quot;usernameInput&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">onblur</span>=<span class="string">&quot;checkUsername()&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;usernameMsg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;ltr&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>è¯·è¾“å…¥å¯†ç <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;ipt&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userPwdInput&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userPwd&quot;</span> <span class="attr">onblur</span>=<span class="string">&quot;checkUserPwd()&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;userPwdMsg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;ltr&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>ç¡®è®¤å¯†ç <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;ipt&quot;</span> <span class="attr">id</span>=<span class="string">&quot;reUserPwdInput&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">onblur</span>=<span class="string">&quot;checkReUserPwd()&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;reUserPwdMsg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;ltr&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;buttonContainer&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ³¨å†Œ&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;é‡ç½®&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>  <span class="attr">href</span>=<span class="string">&quot;/login.html&quot;</span>&gt;</span>å»ç™»å½•<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p> æœåŠ¡ç«¯ä»£ç å¤„ç†</p>
</blockquote>
<ul>
<li>æ·»åŠ å…¬å…±çš„JSONæ•°æ®å“åº”æ ¼å¼ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.common;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸šåŠ¡å«ä¹‰å’ŒçŠ¶æ€ç å¯¹åº”å…³ç³»çš„æšä¸¾</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">ResultCodeEnum</span> &#123;</span><br><span class="line"></span><br><span class="line">    SUCCESS(<span class="number">200</span>,<span class="string">&quot;success&quot;</span>),</span><br><span class="line">    USERNAME_ERROR(<span class="number">501</span>,<span class="string">&quot;usernameError&quot;</span>),</span><br><span class="line">    PASSWORD_ERROR(<span class="number">503</span>,<span class="string">&quot;passwordError&quot;</span>),</span><br><span class="line">    NOTLOGIN(<span class="number">504</span>,<span class="string">&quot;notLogin&quot;</span>),</span><br><span class="line">    USERNAME_USED(<span class="number">505</span>,<span class="string">&quot;userNameUsed&quot;</span>)</span><br><span class="line">    ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">ResultCodeEnum</span><span class="params">(Integer code, String message)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.common;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…¨å±€ç»Ÿä¸€å“åº”çš„JSONæ ¼å¼å¤„ç†ç±»</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="comment">// è¿”å›ç </span></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="comment">// è¿”å›æ¶ˆæ¯</span></span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    <span class="comment">// è¿”å›æ•°æ®</span></span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Result</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="comment">// è¿”å›æ•°æ®</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">build</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        Result&lt;T&gt; result = <span class="keyword">new</span> <span class="title class_">Result</span>&lt;T&gt;();</span><br><span class="line">        <span class="keyword">if</span> (data != <span class="literal">null</span>)</span><br><span class="line">            result.setData(data);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">build</span><span class="params">(T body, Integer code, String message)</span> &#123;</span><br><span class="line">        Result&lt;T&gt; result = build(body);</span><br><span class="line">        result.setCode(code);</span><br><span class="line">        result.setMessage(message);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">build</span><span class="params">(T body, ResultCodeEnum resultCodeEnum)</span> &#123;</span><br><span class="line">        Result&lt;T&gt; result = build(body);</span><br><span class="line">        result.setCode(resultCodeEnum.getCode());</span><br><span class="line">        result.setMessage(resultCodeEnum.getMessage());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œæˆåŠŸ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> data  baseCategory1List</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>&lt;T&gt; Result&lt;T&gt; <span class="title function_">ok</span><span class="params">(T data)</span>&#123;</span><br><span class="line">        Result&lt;T&gt; result = build(data);</span><br><span class="line">        <span class="keyword">return</span> build(data, ResultCodeEnum.SUCCESS);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Result&lt;T&gt; <span class="title function_">message</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.setMessage(msg);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Result&lt;T&gt; <span class="title function_">code</span><span class="params">(Integer code)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.setCode(code);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCode</span><span class="params">(Integer code)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getData</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setData</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>å¢åŠ Jacksonä¾èµ–</li>
</ul>
<p><img src="/images/1690511433594.png" alt="1690511433594"></p>
<ul>
<li>æ·»åŠ WEBUtilå·¥å…·ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.util;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.common.Result;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebUtil</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ObjectMapper objectMapper;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–objectMapper</span></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        objectMapper=<span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">        <span class="comment">// è®¾ç½®JSONå’ŒObjectè½¬æ¢æ—¶çš„æ—¶é—´æ—¥æœŸæ ¼å¼</span></span><br><span class="line">        objectMapper.setDateFormat(<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä»è¯·æ±‚ä¸­è·å–JSONä¸²å¹¶è½¬æ¢ä¸ºObject</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">readJson</span><span class="params">(HttpServletRequest request,Class&lt;T&gt; clazz)</span>&#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            reader = request.getReader();</span><br><span class="line">            <span class="type">StringBuffer</span> <span class="variable">buffer</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">            <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">while</span>((line = reader.readLine())!= <span class="literal">null</span>)&#123;</span><br><span class="line">                buffer.append(line);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            t= objectMapper.readValue(buffer.toString(),clazz);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†Resultå¯¹è±¡è½¬æ¢æˆJSONä¸²å¹¶æ”¾å…¥å“åº”å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">writeJson</span><span class="params">(HttpServletResponse response, Result result)</span>&#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/json;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> objectMapper.writeValueAsString(result);</span><br><span class="line">            response.getWriter().write(json);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ul>
<li>ç”¨æˆ·åæ ¡éªŒä¸šåŠ¡æ¥å£ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment">   * SysUserControllerä¸‹,æ³¨å†Œæ—¶æ ¡éªŒç”¨æˆ·åæ˜¯å¦è¢«å ç”¨çš„ä¸šåŠ¡æ¥å£</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> req</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> resp</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@throws</span> ServletException</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">checkUsernameUsed</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">      <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">      <span class="type">SysUser</span> <span class="variable">registUser</span> <span class="operator">=</span> userService.findByUsername(username);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//å°è£…ç»“æœå¯¹è±¡</span></span><br><span class="line">      Result result=<span class="literal">null</span>;</span><br><span class="line">      <span class="keyword">if</span>(<span class="literal">null</span> ==registUser)&#123;</span><br><span class="line">          <span class="comment">// æœªå ç”¨,åˆ›å»ºä¸€ä¸ªcodeä¸º200çš„å¯¹è±¡</span></span><br><span class="line">          result= Result.ok(<span class="literal">null</span>);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="comment">// å ç”¨, åˆ›å»ºä¸€ä¸ªç»“æœä¸º505çš„å¯¹è±¡</span></span><br><span class="line">          result= Result.build(<span class="literal">null</span>, ResultCodeEnum.USERNAME_USED);</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// å°†resultå¯¹è±¡è½¬æ¢æˆJSONå¹¶å“åº”ç»™å®¢æˆ·ç«¯</span></span><br><span class="line">      WebUtil.writeJson(resp,result);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>






<hr>
<hr>
<p>Â© ç‰ˆæƒå£°æ˜</p>
<escape>

<div>
    <h3 align="center"  style="color: brown;" >ç‰ˆæƒå£°æ˜</h3>
    <table>
           <tr>
            <ol>
                <li>æœ¬ç½‘ç«™åç§°ï¼šğš²ğš³ğš²</li>
                <li>ğš²ğš³ğš²æä¾›çš„èµ„æºä»…ä¾›æ‚¨ä¸ªäººç”¨äºéå•†ä¸šæ€§ç›®çš„ã€‚</li>
                <li>æœ¬ç«™æ–‡ç« éƒ¨åˆ†å†…å®¹å¯èƒ½æ¥æºäºç½‘ç»œï¼Œä»…ä¾›å¤§å®¶å­¦ä¹ ä¸å‚è€ƒï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»æˆ‘è¿›è¡Œåˆ é™¤å¤„ç†ã€‚</li>
                <li>æœ¬ç«™ä¸€åˆ‡èµ„æºä¸ä»£è¡¨æœ¬ç«™ç«‹åœºï¼Œå¹¶ä¸ä»£è¡¨æœ¬ç«™èµåŒå…¶è§‚ç‚¹å’Œå¯¹å…¶çœŸå®æ€§è´Ÿè´£ã€‚</li>
                <li>æœ¬ç«™ä¸€å¾‹ç¦æ­¢ä»¥ä»»ä½•æ–¹å¼å‘å¸ƒæˆ–è½¬è½½ä»»ä½•è¿æ³•çš„ç›¸å…³ä¿¡æ¯ï¼Œè®¿å®¢å‘ç°è¯·ä¸¾æŠ¥</li> 
                <li>æœ¬ç«™èµ„æºå¤§å¤šå­˜å‚¨åœ¨äº‘ç›˜ï¼Œå¦‚å‘ç°é“¾æ¥å¤±æ•ˆï¼Œè¯·è”ç³»æˆ‘ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´æ›´æ–°ã€‚</li>
                <li>æœ¬ç«™å¼ºçƒˆæ‰“å‡»ç›—ç‰ˆ/ç ´è§£ç­‰æœ‰æŸä»–äººæƒç›Šå’Œè¿æ³•ä½œä¸ºï¼Œè¯·æ”¯æŒæ­£ç‰ˆï¼</li>  
            </ol>
        </tr>
    </table>
</div>








</escape>

<hr>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://protonlml.github.io/2019/10/08/javaweb/06_%E7%AC%AC%E5%85%AD%E7%AB%A0%20%E4%BC%9A%E8%AF%9D_%E8%BF%87%E6%BB%A4%E5%99%A8_%E7%9B%91%E5%90%AC%E5%99%A8/" title="ç¬¬å…­ç«  ä¼šè¯\_è¿‡æ»¤å™¨\_ç›‘å¬å™¨" target="_blank" rel="external">https://protonlml.github.io/2019/10/08/javaweb/06_ç¬¬å…­ç«  ä¼šè¯_è¿‡æ»¤å™¨_ç›‘å¬å™¨/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong> æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CNåè®®</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">ğš²ğš³ğš²</span><small class="ml-1x">â—™</small></a></h3>
        <div>ä¸šç²¾äºå‹¤ï¼Œè’äºå¬‰ï¼›è¡Œæˆäºæ€ï¼Œæ¯äºéšï¼</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2019/10/08/javaweb/07_%E7%AC%AC%E4%B8%83%E7%AB%A0%20%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/" title="ç¬¬ä¸ƒç«  å‰ç«¯å·¥ç¨‹åŒ–"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;ä¸Šä¸€ç¯‡</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2019/10/08/javaweb/05_%E7%AC%AC%E4%BA%94%E7%AB%A0%20Servlet/" title="ç¬¬äº”ç«  Servlet"><span>ä¸‹ä¸€ç¯‡&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>èµ</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
  </div>
  </div>
</nav>
  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼Œæˆ‘ä¼šç»§ç»­åŠªåŠ›çš„!</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="æ‰«ç æ”¯æŒ" title="æ‰«ä¸€æ‰«" />
              </div>
              <p class="text-muted mv">è€æ¿å‘è´¢ï¼è€æ¿å‘è´¢ï¼è€æ¿å‘è´¢ï¼</p>
              <p class="text-grey">æ‰“å¼€æ”¯ä»˜å®æ‰«ä¸€æ‰«ï¼Œå³å¯è¿›è¡Œæ‰«ç æ‰“èµå“¦</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="æ‰«ç æ”¯æŒ" title="æ‰«ä¸€æ‰«" />
              </div>
              <p class="text-muted mv">è€æ¿å‘è´¢ï¼è€æ¿å‘è´¢ï¼è€æ¿å‘è´¢ï¼</p>
              <p class="text-grey">æ‰“å¼€å¾®ä¿¡æ‰«ä¸€æ‰«ï¼Œå³å¯è¿›è¡Œæ‰«ç æ‰“èµå“¦</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> æ”¯ä»˜å®</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> å¾®ä¿¡æ”¯ä»˜</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/protonlml" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        &copy; 2019 - 2025 ğš²ğš³ğš²
        
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
            UNTITLED: '(æœªå‘½å)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   






</body>
<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
</html>